<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
<title>SPU Quiz ‚Äî ‡∏û‡∏•‡∏¥‡∏Å‡πÇ‡∏â‡∏°‡∏á‡∏≤‡∏ô‡∏ß‡∏¥‡∏®‡∏ß‡∏Å‡∏£‡∏£‡∏°‡∏î‡πâ‡∏ß‡∏¢ AI</title>
<meta name="theme-color" content="#8A2BE2" />
<style>
  :root{
    --bg1:#0f0c29; --bg2:#302b63; --bg3:#24243e;
    --accent:#7C3AED; --accent2:#22D3EE; --good:#22c55e; --bad:#ef4444; --ink:#0B1020; --card:#0f1226cc;
    --shadow: 0 10px 30px rgba(0,0,0,.35);
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0; color:#fff; background:
      radial-gradient(1200px 800px at 100% -10%,rgba(124,58,237,.35),transparent 60%),
      radial-gradient(1000px 600px at -10% 100%,rgba(34,211,238,.25),transparent 60%),
      linear-gradient(145deg,var(--bg1),var(--bg2) 40%,var(--bg3));
    font-family: "Kanit","Noto Sans Thai","Sarabun",system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
    line-height:1.35;
    -webkit-font-smoothing: antialiased;
  }
  .wrap{ max-width:920px; margin:auto; padding:clamp(12px,3vw,24px); }
  header{ text-align:center; margin:8px 0 16px; }
  .brand{ display:flex; align-items:center; justify-content:center; gap:10px; flex-wrap:wrap; }
  .logo{
    width:56px; height:56px; border-radius:14px;
    background: conic-gradient(from 210deg,var(--accent),var(--accent2));
    box-shadow: var(--shadow);
  }
  h1{ margin:4px 0 0; font-size:clamp(20px,6vw,40px); font-weight:800; letter-spacing:.2px; }
  .subtitle{ margin-top:6px; opacity:.9; font-size:clamp(14px,3.8vw,18px); }
  .dev{ margin-top:6px; font-size:clamp(13px,3.5vw,16px); opacity:.9; }
  .tag{
    display:inline-block; margin-top:8px; padding:6px 12px; border-radius:999px;
    background:rgba(124,58,237,.18); border:1px solid rgba(124,58,237,.35);
    font-weight:700; font-size:clamp(12px,3.2vw,14px);
  }

  .card{
    background:var(--card); backdrop-filter: blur(10px);
    border:1px solid rgba(255,255,255,.09); border-radius:16px; box-shadow: var(--shadow);
    padding:16px;
  }

  .statusbar{
    display:flex; align-items:center; justify-content:space-between; gap:8px; flex-wrap:wrap;
    margin:10px 0 14px; padding:8px 10px; border-radius:12px;
    background: rgba(255,255,255,.05);
  }
  .pill{
    padding:8px 12px; border-radius:10px; background:rgba(255,255,255,.06);
    font-size:clamp(13px,3.5vw,16px); font-weight:700;
  }
  .score{color:#FFD166} .qindex{color:#A5B4FC} .spu{color:#7EE3F2}

  .timer{ position:relative; width:74px; height:74px; }
  .timer svg{transform:rotate(-90deg)}
  .timer .ttext{ position:absolute; inset:0; display:grid; place-items:center; font-weight:800; font-size:18px; }
  .progress-bg{stroke:rgba(255,255,255,.18)}
  .progress{stroke:url(#grad); transition:stroke-dashoffset .2s linear}

  .question{ font-size:clamp(18px,4.8vw,26px); font-weight:800; margin:10px 0 12px; }
  .choices{ display:grid; gap:10px; margin:12px 0; }
  .choice{
    text-align:left; width:100%; border:1px solid rgba(255,255,255,.1);
    background:rgba(255,255,255,.06); color:#fff; padding:14px; border-radius:14px;
    font-size:clamp(16px,4.3vw,20px); font-weight:700; cursor:pointer;
    transition: transform .06s ease, background .2s ease, border-color .2s ease;
  }
  .choice:active{transform:scale(.98)}
  .choice:hover{background:rgba(255,255,255,.09)}
  .choice.correct{background:rgba(34,197,94,.18); border-color:rgba(34,197,94,.5)}
  .choice.wrong{background:rgba(239,68,68,.18); border-color:rgba(239,68,68,.55)}
  .hintbar{ display:flex; gap:8px; flex-wrap:wrap; align-items:center; margin-top:8px; }
  .btn{
    border:none; padding:10px 14px; border-radius:12px; font-weight:800; cursor:pointer;
    font-size:clamp(14px,4vw,16px);
    background:linear-gradient(135deg,#FFE259,#FFA751); color:#0a0927;
    box-shadow: 0 6px 14px rgba(0,0,0,.25);
  }
  .btn.alt{ background:linear-gradient(135deg,#7C3AED,#22D3EE); color:#fff; }
  .btn.ghost{ background:transparent; color:#fff; border:1px solid rgba(255,255,255,.2) }
  .explain{
    margin-top:10px; padding:12px; border-radius:12px; background:rgba(255,255,255,.06);
    border:1px solid rgba(255,255,255,.1); font-size:clamp(14px,3.8vw,16px)
  }
  .start{ text-align:center; padding:14px; }
  .bigcta{
    font-size:clamp(18px,5vw,22px); padding:14px 18px; border-radius:14px;
    background: linear-gradient(135deg,#16a34a,#22c55e); color:#fff; font-weight:900; border:none; cursor:pointer;
    box-shadow: 0 12px 26px rgba(34,197,94,.35);
  }
  .mutetoggle{margin-left:auto}

  .summary{ text-align:center; padding:12px; }
  .scorepop{
    font-size:clamp(20px,8vw,40px); font-weight:900;
    background:linear-gradient(90deg,#FFE259,#FFA751);
    -webkit-background-clip:text; background-clip:text; color:transparent;
    margin:8px 0;
  }
  .leader{
    margin-top:10px; text-align:left;
    background:rgba(255,255,255,.05); border:1px solid rgba(255,255,255,.1); border-radius:14px; padding:10px;
  }
  .leader h3{margin:0 0 8px; font-size:clamp(16px,4.5vw,18px)}
  .leader li{display:flex; justify-content:space-between; padding:8px 6px; border-bottom:1px dashed rgba(255,255,255,.12)}
  .leader li:last-child{border-bottom:none}

  /* Mobile grid on wide screens */
  @media (min-width:800px){ .card{padding:22px} .choices{grid-template-columns: 1fr 1fr} }

  /* Sparkles */
  .sparkle{
    position:fixed; pointer-events:none; inset:0; opacity:.35; mix-blend-mode: screen;
    background:
      radial-gradient(circle at 20% 30%, rgba(255,255,255,.14) 0 2px, transparent 3px),
      radial-gradient(circle at 80% 60%, rgba(255,255,255,.14) 0 2px, transparent 3px),
      radial-gradient(circle at 60% 10%, rgba(255,255,255,.14) 0 1.5px, transparent 2.5px),
      radial-gradient(circle at 10% 85%, rgba(255,255,255,.12) 0 2px, transparent 3px);
    background-size: 100% 100%; animation: twinkle 6s linear infinite;
  }
  @keyframes twinkle{ 0%,100%{opacity:.25} 50%{opacity:.45} }

  /* Toast */
  .toast{
    position: fixed; left: 50%; bottom: 18px; transform: translateX(-50%);
    background: rgba(0,0,0,.7); color:#fff; padding:10px 14px; border-radius:12px;
    font-weight:800; font-size:14px; opacity:0; pointer-events:none; transition:opacity .25s ease;
  }
  .toast.show{ opacity:1; }
</style>
</head>
<body>
<div class="sparkle" aria-hidden="true"></div>
<div class="wrap">
  <header>
    <div class="brand">
      <div class="logo" aria-hidden="true"></div>
      <div>
        <div class="tag">Sripatum University (SPU)</div>
        <h1>‡∏û‡∏•‡∏¥‡∏Å‡πÇ‡∏â‡∏°‡∏á‡∏≤‡∏ô‡∏ß‡∏¥‡∏®‡∏ß‡∏Å‡∏£‡∏£‡∏°‡∏î‡πâ‡∏ß‡∏¢ AI ‚Äî ‡∏ã‡πà‡∏≠‡∏°‡∏Å‡πà‡∏≠‡∏ô‡∏û‡∏±‡∏á ‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏Å‡πà‡∏≠‡∏ô‡∏ß‡∏¥‡∏Å‡∏§‡∏ï‡∏¥</h1>
        <div class="subtitle">‡πÄ‡∏Å‡∏°‡∏ß‡∏±‡∏î‡∏Å‡∏∂‡πã‡∏ô ‚ö°Ô∏è ‚Äú‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ã‡πà‡∏≠‡∏°‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏´‡∏°‡πâ‡∏≠‡πÅ‡∏õ‡∏•‡∏á‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏≥‡∏´‡∏ô‡πà‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡∏ô‡∏Ñ‡∏£‡∏´‡∏•‡∏ß‡∏á (MEA)‚Äù</div>
        <div class="dev">‡∏û‡∏±‡∏í‡∏ô‡∏≤‡πÇ‡∏î‡∏¢ <strong>‡∏ú‡∏®.‡∏î‡∏£.‡∏†‡∏£‡∏ä‡∏±‡∏¢ ‡∏à‡∏π‡∏≠‡∏ô‡∏∏‡∏ß‡∏±‡∏í‡∏ô‡∏Å‡∏∏‡∏•</strong></div>
      </div>
    </div>
  </header>

  <section class="card" id="screen-start">
    <div class="start">
      <p style="margin:6px 0 14px; font-size:clamp(16px,4.5vw,20px);">‡∏ï‡∏≠‡∏ö‡πÉ‡∏´‡πâ‡πÑ‡∏ß ‡πÑ‡∏î‡πâ‡πÅ‡∏ï‡πâ‡∏°‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î ~1,000 ‡∏ï‡πà‡∏≠‡∏Ç‡πâ‡∏≠ ‚è±Ô∏è ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏•‡∏î‡∏•‡∏á‡∏ï‡∏≤‡∏°‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠ ‚Äî ‡πÉ‡∏ä‡πâ‡∏´‡∏•‡∏±‡∏Å‡πÇ‡∏™‡πÄ‡∏Ñ‡∏£‡∏ï‡∏µ‡∏™ ‡∏ñ‡∏≤‡∏°‡πÉ‡∏´‡πâ‡∏Ñ‡∏¥‡∏î ‡∏ä‡∏¥‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏£‡∏¥‡∏á</p>
      <div class="hintbar" style="justify-content:center; margin-bottom:10px">
        <button class="bigcta" id="btnStart">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏•‡∏¢!</button>
      </div>
      <div class="hintbar" style="justify-content:center">
        <button class="btn ghost" id="btnHow">‡∏ß‡∏¥‡∏ò‡∏µ‡πÄ‡∏•‡πà‡∏ô</button>
        <button class="btn ghost mutetoggle" id="btnMute">üîä ‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏û‡∏•‡∏á</button>
        <button class="btn" id="btnCopyLink">üîó ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå</button>
      </div>
      <div style="margin-top:10px; font-size:clamp(12px,3.2vw,14px); opacity:.85">
        ‡πÅ‡∏ä‡∏£‡πå‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏ô‡∏µ‡πâ‡∏´‡∏•‡∏±‡∏á‡∏≠‡∏±‡∏õ‡∏Ç‡∏∂‡πâ‡∏ô GitHub Pages ‡πÅ‡∏•‡πâ‡∏ß ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡πÜ ‡∏à‡∏∞‡πÄ‡∏•‡πà‡∏ô‡∏à‡∏≤‡∏Å‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠‡πÑ‡∏î‡πâ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ
      </div>
    </div>
  </section>

  <section class="card" id="screen-how" hidden>
    <h2 style="margin:6px 0 8px">‡∏ß‡∏¥‡∏ò‡∏µ‡πÄ‡∏•‡πà‡∏ô</h2>
    <ul style="margin:0; padding-left:18px; font-size:clamp(14px,3.8vw,16px)">
      <li>‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏Ç‡πâ‡∏≠‡∏°‡∏µ‡πÄ‡∏ß‡∏•‡∏≤ <b>45 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ</b>. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡πÉ‡∏´‡πâ‡πÑ‡∏ß</li>
      <li>‡∏ñ‡∏π‡∏Å = ‡πÑ‡∏î‡πâ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î‡πÉ‡∏Å‡∏•‡πâ <b>1,000</b> ‡πÅ‡∏ï‡πâ‡∏° ‡∏ï‡∏≤‡∏°‡∏™‡∏π‡∏ï‡∏£ <code>‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô = 1000 √ó (‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏´‡∏•‡∏∑‡∏≠ / 45)</code></li>
      <li>‡∏õ‡∏∏‡πà‡∏° <b>‡∏Ç‡∏≠‡∏Ñ‡∏≥‡πÉ‡∏ö‡πâ (‡πÇ‡∏™‡πÄ‡∏Ñ‡∏£‡∏ï‡∏µ‡∏™)</b> ‡∏à‡∏∞‡∏ñ‡∏≤‡∏°‡∏ä‡∏µ‡πâ‡∏ô‡∏≥ ‡πÑ‡∏°‡πà‡πÄ‡∏â‡∏•‡∏¢‡∏ï‡∏£‡∏á‡πÜ</li>
      <li>‡∏´‡∏•‡∏±‡∏á‡∏ï‡∏≠‡∏ö ‡∏à‡∏∞‡∏°‡∏µ <b>‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•/‡∏ö‡∏ó‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</b> ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏á‡∏≤‡∏ô‡∏ã‡πà‡∏≠‡∏°‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏Ç‡∏≠‡∏á MEA</li>
    </ul>
    <div class="hintbar" style="margin-top:12px">
      <button class="btn alt" id="btnHowPlay">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏•‡∏¢</button>
      <button class="btn ghost" id="btnBack">‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö</button>
    </div>
  </section>

  <section class="card" id="screen-quiz" hidden>
    <div class="statusbar">
      <div class="pill score">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô: <span id="score">0</span></div>
      <div class="pill qindex">‡∏Ç‡πâ‡∏≠‡∏ó‡∏µ‡πà <span id="qNum">1</span>/<span id="qTotal">8</span></div>
      <div class="pill spu">SPU ‚ù§Ô∏è MEA</div>
      <div class="timer" aria-label="‡∏ï‡∏±‡∏ß‡∏à‡∏±‡∏ö‡πÄ‡∏ß‡∏•‡∏≤ 45 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ">
        <svg width="74" height="74" viewBox="0 0 44 44">
          <defs>
            <linearGradient id="grad" x1="0" y1="0" x2="1" y2="1">
              <stop offset="0%" stop-color="#22D3EE"/>
              <stop offset="100%" stop-color="#7C3AED"/>
            </linearGradient>
          </defs>
          <circle class="progress-bg" cx="22" cy="22" r="18" fill="none" stroke-width="6"/>
          <circle id="progress" class="progress" cx="22" cy="22" r="18" fill="none" stroke-width="6"
                  stroke-linecap="round" stroke-dasharray="113" stroke-dashoffset="0"/>
        </svg>
        <div class="ttext"><span id="time">45</span>s</div>
      </div>
    </div>

    <div class="question" id="question">‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°..</div>
    <div class="choices" id="choices"></div>

    <div class="hintbar">
      <button class="btn" id="btnHint">üí° ‡∏Ç‡∏≠‡∏Ñ‡∏≥‡πÉ‡∏ö‡πâ (‡πÇ‡∏™‡πÄ‡∏Ñ‡∏£‡∏ï‡∏µ‡∏™)</button>
      <button class="btn ghost" id="btnSkip">‡∏Ç‡πâ‡∏≤‡∏° (0 ‡πÅ‡∏ï‡πâ‡∏°)</button>
      <button class="btn ghost mutetoggle" id="btnMute2">üîä ‡πÄ‡∏û‡∏•‡∏á</button>
      <button class="btn" id="btnCopyLink2">üîó ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå</button>
    </div>

    <div class="explain" id="explain" hidden></div>
  </section>

  <section class="card" id="screen-summary" hidden>
    <div class="summary">
      <div style="font-size:clamp(16px,4.6vw,20px)">‡∏à‡∏ö‡πÄ‡∏Å‡∏°‡πÅ‡∏•‡πâ‡∏ß! üéâ</div>
      <div class="scorepop">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏£‡∏ß‡∏°: <span id="finalScore">0</span></div>
      <div id="performance" style="opacity:.9"></div>
      <div class="leader">
        <h3>üèÜ ‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏ô‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥ (‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏ô‡∏µ‡πâ)</h3>
        <ol id="leaderList" style="margin:0; padding-left:18px"></ol>
      </div>
      <div class="hintbar" style="justify-content:center">
        <button class="btn alt" id="btnReplay">‡πÄ‡∏•‡πà‡∏ô‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á</button>
        <button class="btn ghost" id="btnShare">‡πÅ‡∏ä‡∏£‡πå‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</button>
        <button class="btn" id="btnCopyLink3">üîó ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå</button>
      </div>
    </div>
  </section>
</div>

<div class="toast" id="toast">‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÅ‡∏•‡πâ‡∏ß!</div>

<script>
/* ==========================
   ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏° (‡πÑ‡∏ó‡∏¢ + ‡πÇ‡∏™‡πÄ‡∏Ñ‡∏£‡∏ï‡∏µ‡∏™)
   ========================== */
const QUESTIONS = [
  {
    q: "‡∏´‡∏°‡πâ‡∏≠‡πÅ‡∏õ‡∏•‡∏á A: ‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡∏™‡∏π‡∏á‡∏ú‡∏¥‡∏î‡∏õ‡∏Å‡∏ï‡∏¥ + ‡∏Å‡πä‡∏≤‡∏ã H‚ÇÇ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏£‡πá‡∏ß / ‡∏´‡∏°‡πâ‡∏≠‡πÅ‡∏õ‡∏•‡∏á B: ‡∏Ñ‡∏£‡∏≤‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏∑‡πâ‡∏ô‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢‡∏ó‡∏µ‡πà‡∏ö‡∏∏‡∏ä‡∏ä‡∏¥‡πà‡∏á / ‡∏´‡∏°‡πâ‡∏≠‡πÅ‡∏õ‡∏•‡∏á C: ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÇ‡∏´‡∏•‡∏î 95% ‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á ‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì‡πÄ‡∏™‡∏µ‡∏¢‡∏≠‡∏∑‡πà‡∏ô ‡πÜ ‚Äî ‡∏Ñ‡∏ß‡∏£‡∏ã‡πà‡∏≠‡∏°‡∏≠‡∏±‡∏ô‡πÑ‡∏´‡∏ô‡∏Å‡πà‡∏≠‡∏ô?",
    choices: [
      "A ‡∏Å‡πà‡∏≠‡∏ô ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì‡∏•‡∏±‡∏î‡∏ß‡∏á‡∏à‡∏£‡∏†‡∏≤‡∏¢‡πÉ‡∏ô",
      "B ‡∏Å‡πà‡∏≠‡∏ô ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏∑‡πâ‡∏ô‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏Å‡∏¥‡∏î Partial Discharge",
      "C ‡∏Å‡πà‡∏≠‡∏ô ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡πÇ‡∏´‡∏•‡∏î‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏ó‡∏±‡∏ô‡∏ó‡∏µ",
      "‡∏ã‡πà‡∏≠‡∏°‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î"
    ],
    answer: 0,
    hint: "‡πÇ‡∏™‡πÄ‡∏Ñ‡∏£‡∏ï‡∏µ‡∏™‡∏ñ‡∏≤‡∏°: ‡∏≠‡∏≤‡∏Å‡∏≤‡∏£‡πÑ‡∏´‡∏ô‡∏ö‡∏≠‡∏Å‡∏ñ‡∏∂‡∏á '‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡∏¢‡∏´‡∏≤‡∏¢‡πÄ‡∏ä‡∏¥‡∏á‡∏â‡∏ô‡∏ß‡∏ô‡∏†‡∏≤‡∏¢‡πÉ‡∏ô' ‡∏°‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î ‡πÅ‡∏•‡∏∞‡∏•‡∏∏‡∏Å‡∏•‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß?",
    explain: "‡∏Ñ‡πà‡∏≤‡∏Å‡πä‡∏≤‡∏ã H‚ÇÇ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏±‡∏ö‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡∏™‡∏π‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì‡∏Å‡∏≤‡∏£‡∏™‡∏•‡∏≤‡∏¢‡∏ï‡∏±‡∏ß‡∏†‡∏≤‡∏¢‡πÉ‡∏ô (thermal/low-energy arcing) ‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏û‡∏±‡∏á‡∏â‡∏±‡∏ö‡∏û‡∏•‡∏±‡∏ô ‡∏à‡∏∂‡∏á‡∏ï‡πâ‡∏≠‡∏á‡∏à‡∏±‡∏î A ‡πÄ‡∏õ‡πá‡∏ô‡∏•‡∏≥‡∏î‡∏±‡∏ö‡πÅ‡∏£‡∏Å ‡πÅ‡∏°‡πâ B/C ‡∏Å‡πá‡∏Ñ‡∏ß‡∏£‡πÅ‡∏Å‡πâ ‡πÅ‡∏ï‡πà‡∏°‡∏µ‡πÄ‡∏ß‡∏•‡∏≤‡∏à‡∏±‡∏î‡∏Ñ‡∏¥‡∏ß‡πÑ‡∏î‡πâ"
  },
  {
    q: "‡∏°‡∏µ‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏Æ‡∏±‡∏°‡∏î‡∏±‡∏á‡∏ú‡∏¥‡∏î‡∏õ‡∏Å‡∏ï‡∏¥ + ‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏ô‡∏™‡∏π‡∏á‡∏ó‡∏µ‡πà‡πÇ‡∏Ñ‡∏£‡∏á‡∏´‡∏°‡πâ‡∏≠‡πÅ‡∏õ‡∏•‡∏á‡πÉ‡∏ô‡∏ä‡πà‡∏ß‡∏á‡∏û‡∏µ‡∏Å ‡πÅ‡∏ï‡πà DGA ‡∏õ‡∏Å‡∏ï‡∏¥ ‡∏Ñ‡∏ß‡∏£‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£?",
    choices: [
      "‡∏´‡∏¢‡∏∏‡∏î‡∏à‡πà‡∏≤‡∏¢‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡∏ó‡∏∏‡∏Å‡∏Å‡∏£‡∏ì‡∏µ",
      "‡∏ï‡∏£‡∏ß‡∏à‡∏¢‡∏∂‡∏î‡πÅ‡∏ô‡πà‡∏ô‡πÅ‡∏•‡∏∞‡∏ê‡∏≤‡∏ô‡∏£‡∏≠‡∏á (mechanical) ‡∏Å‡πà‡∏≠‡∏ô ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÇ‡∏´‡∏•‡∏î",
      "‡∏£‡∏≠‡∏î‡∏π‡∏≠‡∏≤‡∏Å‡∏≤‡∏£ 1-2 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô",
      "‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡∏ó‡∏±‡∏ô‡∏ó‡∏µ"
    ],
    answer: 1,
    hint: "‡∏ñ‡∏≤‡∏°‡∏Å‡∏•‡∏±‡∏ö: ‡∏ñ‡πâ‡∏≤ DGA ‡πÑ‡∏°‡πà‡∏ú‡∏¥‡∏î‡∏õ‡∏Å‡∏ï‡∏¥ ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ô‡πà‡∏≤‡∏à‡∏∞‡∏°‡∏≤‡∏à‡∏≤‡∏Å‡∏î‡πâ‡∏≤‡∏ô‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡∏´‡∏£‡∏∑‡∏≠‡∏Å‡∏•‡πÑ‡∏Å?",
    explain: "‡πÄ‡∏™‡∏µ‡∏¢‡∏á/‡πÅ‡∏£‡∏á‡∏™‡∏±‡πà‡∏ô‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå‡πÇ‡∏´‡∏•‡∏î‡∏û‡∏µ‡∏Å ‡∏°‡∏±‡∏Å‡∏ä‡∏µ‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏Å‡∏•‡πÑ‡∏Å‚Äî‡∏Å‡∏≤‡∏£‡∏¢‡∏∂‡∏î‡πÅ‡∏ô‡πà‡∏ô ‡∏´‡∏•‡∏ß‡∏° ‡∏ê‡∏≤‡∏ô‡∏£‡∏≠‡∏á ‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡πÄ‡∏ä‡∏¥‡∏á‡∏Å‡∏•‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏∞‡∏à‡∏≤‡∏¢‡πÇ‡∏´‡∏•‡∏î‡πÅ‡∏Å‡πâ‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏ï‡∏∏‡πÑ‡∏î‡πâ‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏¢‡∏∏‡∏î‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á"
  },
  {
    q: "‡∏ö‡∏π‡∏ä‡πÄ‡∏ä‡∏≠‡∏£‡πå‡∏ß‡∏≠‡∏•‡∏ó‡πå‡πÄ‡∏ó‡∏™ (Buchholz) ‡∏ó‡∏£‡∏¥‡∏õ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß ‡πÅ‡∏•‡πâ‡∏ß‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏ï‡∏¥‡∏î ‡∏ó‡∏≥‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£‡∏à‡∏∂‡∏á‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡πÅ‡∏•‡∏∞‡∏°‡∏µ‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î?",
    choices: [
      "‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡∏∞‡∏ö‡∏ö‡∏ó‡∏±‡∏ô‡∏ó‡∏µ ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏ï‡∏¥‡∏î‡πÅ‡∏•‡πâ‡∏ß",
      "‡∏ï‡∏£‡∏ß‡∏à‡∏£‡∏≠‡∏¢‡∏£‡∏±‡πà‡∏ß/‡∏≠‡∏≤‡∏Å‡∏≤‡∏®‡πÄ‡∏Ç‡πâ‡∏≤ ‡πÅ‡∏•‡∏∞‡∏ó‡∏≥ DGA ‡∏î‡πà‡∏ß‡∏ô ‡∏Å‡πà‡∏≠‡∏ô‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à",
      "‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡πÅ‡∏•‡∏∞‡∏Å‡∏•‡∏±‡∏ö‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ó‡∏±‡∏ô‡∏ó‡∏µ",
      "‡πÑ‡∏°‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£"
    ],
    answer: 1,
    hint: "‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ä‡∏µ‡πâ‡∏ô‡∏≥: ‡πÄ‡∏ã‡∏ô‡πÄ‡∏ã‡∏≠‡∏£‡πå‡∏ï‡∏±‡∏ß‡∏ô‡∏µ‡πâ‡∏ï‡∏≠‡∏ö‡∏™‡∏ô‡∏≠‡∏á‡∏ï‡πà‡∏≠‡∏≠‡∏∞‡πÑ‡∏£? ‡∏°‡∏µ‡∏≠‡∏∞‡πÑ‡∏£‡∏ö‡∏≠‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ú‡∏¥‡∏î‡∏õ‡∏Å‡∏ï‡∏¥‡∏†‡∏≤‡∏¢‡πÉ‡∏ô‡πÑ‡∏î‡πâ‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏Å‡∏ß‡πà‡∏≤?",
    explain: "Buchholz ‡∏ï‡∏≠‡∏ö‡∏™‡∏ô‡∏≠‡∏á‡∏Å‡πä‡∏≤‡∏ã/‡∏ü‡∏≠‡∏á‡∏≠‡∏≤‡∏Å‡∏≤‡∏®‡∏à‡∏≤‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ú‡∏¥‡∏î‡∏õ‡∏Å‡∏ï‡∏¥‡∏†‡∏≤‡∏¢‡πÉ‡∏ô ‡∏Å‡∏≤‡∏£‡∏ó‡∏≥ DGA ‡πÄ‡∏£‡πà‡∏á‡∏î‡πà‡∏ß‡∏ô + ‡∏ï‡∏£‡∏ß‡∏à‡∏£‡∏≠‡∏¢‡∏£‡∏±‡πà‡∏ß‡πÄ‡∏õ‡πá‡∏ô‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏Å‡πà‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô"
  },
  {
    q: "‡∏´‡∏°‡πâ‡∏≠‡πÅ‡∏õ‡∏•‡∏á 250 kVA ‡∏≠‡∏≤‡∏¢‡∏∏ 28 ‡∏õ‡∏µ ‡πÉ‡∏à‡∏Å‡∏•‡∏≤‡∏á‡∏¢‡πà‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏≤ ‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢ 85% ‡∏°‡∏µ‡∏Ñ‡∏£‡∏≤‡∏ö‡∏Ñ‡∏≤‡∏£‡πå‡∏ö‡∏≠‡∏ô‡∏ó‡∏µ‡πà contact tap changer ‡∏†‡∏≤‡∏¢‡∏ô‡∏≠‡∏Å‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢ ‡∏Ñ‡∏ß‡∏£‡∏à‡∏±‡∏î‡∏•‡∏≥‡∏î‡∏±‡∏ö?",
    choices: [
      "‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î‡πÅ‡∏•‡∏∞‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏£‡∏±‡∏Å‡∏©‡∏≤ OLTC/‡∏ï‡∏£‡∏ß‡∏à contact ‡πÄ‡∏õ‡πá‡∏ô‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏ï‡πâ‡∏ô",
      "‡∏£‡∏∑‡πâ‡∏≠‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏´‡∏°‡πâ‡∏≠‡πÉ‡∏´‡∏°‡πà‡∏ó‡∏±‡∏ô‡∏ó‡∏µ",
      "‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£",
      "‡∏•‡∏î‡πÇ‡∏´‡∏•‡∏î‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏û‡∏≠"
    ],
    answer: 0,
    hint: "‡∏ñ‡∏≤‡∏°: ‡∏à‡∏∏‡∏î‡πÉ‡∏î‡∏Ñ‡∏∑‡∏≠ failure hotspot ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏≠‡∏≤‡∏¢‡∏∏‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏°‡∏≤‡∏Å‡πÅ‡∏•‡∏∞‡πÇ‡∏´‡∏•‡∏î‡∏™‡∏π‡∏á?",
    explain: "OLTC/contact ‡πÄ‡∏õ‡πá‡∏ô‡∏à‡∏∏‡∏î‡∏™‡∏∂‡∏Å‡∏´‡∏£‡∏≠‡∏™‡∏π‡∏á ‡∏Å‡∏≤‡∏£‡∏î‡∏π‡πÅ‡∏•‡πÄ‡∏ä‡∏¥‡∏á‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô+‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î‡∏à‡∏∞‡∏•‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏î‡∏±‡∏ö‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡πÉ‡∏ô‡∏¢‡πà‡∏≤‡∏ô‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡πÑ‡∏î‡πâ‡∏°‡∏≤‡∏Å ‡∏Ñ‡∏ß‡∏£‡∏≠‡∏¢‡∏π‡πà‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏ï‡πâ‡∏ô"
  },
  {
    q: "‡∏°‡∏µ‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì partial discharge (PD) ‡∏ó‡∏µ‡πà‡∏ö‡∏π‡∏ä‡∏ä‡∏¥‡πà‡∏á‡∏Ç‡∏ì‡∏∞‡∏ù‡∏ô‡∏ï‡∏Å‡∏´‡∏ô‡∏±‡∏Å ‡∏Ñ‡∏ß‡∏£‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£ '‡∏Å‡πà‡∏≠‡∏ô'?",
    choices: [
      "‡∏â‡∏µ‡∏î‡∏ô‡πâ‡∏≥‡∏•‡πâ‡∏≤‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏°",
      "‡∏ï‡∏£‡∏ß‡∏à‡∏Å‡∏≤‡∏£‡∏õ‡∏ô‡πÄ‡∏õ‡∏∑‡πâ‡∏≠‡∏ô/‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏∑‡πâ‡∏ô ‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î ‡∏â‡∏ô‡∏ß‡∏ô‡∏ú‡∏¥‡∏ß + ‡∏ï‡∏£‡∏ß‡∏à corona ring",
      "‡∏£‡∏≠‡πÉ‡∏´‡πâ‡πÅ‡∏´‡πâ‡∏á‡πÄ‡∏≠‡∏á",
      "‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏•‡∏î‡πÅ‡∏£‡∏á‡∏î‡∏±‡∏ô‡∏ï‡∏Å‡∏Ñ‡∏£‡πà‡∏≠‡∏°"
    ],
    answer: 1,
    hint: "‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°: ‡∏õ‡∏±‡∏à‡∏à‡∏±‡∏¢‡πÉ‡∏î‡∏Å‡∏£‡∏∞‡∏ï‡∏∏‡πâ‡∏ô PD ‡∏ö‡∏£‡∏¥‡πÄ‡∏ß‡∏ì‡∏ú‡∏¥‡∏ß‡∏â‡∏ô‡∏ß‡∏ô‡∏°‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡πÉ‡∏ô‡∏™‡∏†‡∏≤‡∏û‡∏ù‡∏ô?",
    explain: "‡∏™‡∏¥‡πà‡∏á‡∏™‡∏Å‡∏õ‡∏£‡∏Å/‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏∑‡πâ‡∏ô‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡∏≥‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏ú‡∏¥‡∏ß‡∏ö‡∏π‡∏ä‡∏ä‡∏¥‡πà‡∏á ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏Å‡∏¥‡∏î PD ‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏†‡∏≤‡∏û‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏° corona ‡∏•‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡πÄ‡∏â‡∏µ‡∏¢‡∏ö‡∏û‡∏•‡∏±‡∏ô"
  },
  {
    q: "DGA ‡∏û‡∏ö C‚ÇÇH‚ÇÇ (‡∏≠‡∏∞‡πÄ‡∏ã‡∏ó‡∏¥‡∏•‡∏µ‡∏ô) ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏∂‡πâ‡∏ô‡∏£‡∏ß‡∏î‡πÄ‡∏£‡πá‡∏ß ‡∏Ñ‡∏ß‡∏£‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£?",
    choices: [
      "‡∏´‡∏¢‡∏∏‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡∏ï‡∏£‡∏ß‡∏à‡∏†‡∏≤‡∏¢‡πÉ‡∏ô‡πÄ‡∏£‡πà‡∏á‡∏î‡πà‡∏ß‡∏ô",
      "‡∏õ‡∏•‡πà‡∏≠‡∏¢‡πÑ‡∏ß‡πâ‡∏Å‡πà‡∏≠‡∏ô‡πÅ‡∏•‡πâ‡∏ß‡∏™‡∏∏‡πà‡∏°‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏≠‡∏µ‡∏Å 6 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô",
      "‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ó‡∏î‡∏™‡∏≠‡∏ö",
      "‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô"
    ],
    answer: 0,
    hint: "‡∏ñ‡∏≤‡∏°: ‡∏Å‡πä‡∏≤‡∏ã‡∏ï‡∏±‡∏ß‡πÉ‡∏î‡∏ö‡πà‡∏á‡∏ä‡∏µ‡πâ arcing ‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡∏™‡∏π‡∏á‡πÉ‡∏ô‡∏´‡∏°‡πâ‡∏≠‡πÅ‡∏õ‡∏•‡∏á?",
    explain: "‡∏≠‡∏∞‡πÄ‡∏ã‡∏ó‡∏¥‡∏•‡∏µ‡∏ô‡∏ä‡∏µ‡πâ arcing ‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡∏™‡∏π‡∏á ‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏´‡∏≤‡∏¢‡∏£‡∏∏‡∏ô‡πÅ‡∏£‡∏á ‡∏Ñ‡∏ß‡∏£‡∏´‡∏¢‡∏∏‡∏î‡πÅ‡∏•‡∏∞‡∏ï‡∏£‡∏ß‡∏à‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß"
  },
  {
    q: "‡∏ï‡∏±‡∏ß‡∏ß‡∏±‡∏î‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥ top-oil ‡πÄ‡∏™‡∏µ‡∏¢ ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏¥‡∏î‡πÄ‡∏û‡∏µ‡πâ‡∏¢‡∏ô ‡πÅ‡∏ï‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏õ‡∏Å‡∏ï‡∏¥ ‡∏Ñ‡∏ß‡∏£‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£‡πÄ‡∏û‡∏∑‡πà‡∏≠ '‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏Å‡πà‡∏≠‡∏ô‡∏ß‡∏¥‡∏Å‡∏§‡∏ï‡∏¥'?",
    choices: [
      "‡∏õ‡∏•‡πà‡∏≠‡∏¢‡πÑ‡∏õ ‡πÑ‡∏°‡πà‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç",
      "‡∏ã‡πà‡∏≠‡∏°/‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏ã‡∏ô‡πÄ‡∏ã‡∏≠‡∏£‡πå‡πÅ‡∏•‡∏∞‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏±‡∏ö‡∏£‡∏∞‡∏ö‡∏ö‡∏°‡∏≠‡∏ô‡∏¥‡πÄ‡∏ï‡∏≠‡∏£‡πå ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏≤‡∏î‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á",
      "‡∏•‡∏î‡πÇ‡∏´‡∏•‡∏î 20% ‡∏ñ‡∏≤‡∏ß‡∏£",
      "‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô"
    ],
    answer: 1,
    hint: "‡∏ñ‡∏≤‡∏°: ‡∏´‡∏•‡∏±‡∏Å '‡∏ã‡πà‡∏≠‡∏°‡∏Å‡πà‡∏≠‡∏ô‡∏û‡∏±‡∏á' ‡∏ï‡πâ‡∏≠‡∏á‡∏≠‡∏≤‡∏®‡∏±‡∏¢‡∏≠‡∏∞‡πÑ‡∏£‡πÄ‡∏õ‡πá‡∏ô‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•?",
    explain: "‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏∑‡∏≠‡∏´‡∏±‡∏ß‡πÉ‡∏à‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏£‡∏±‡∏Å‡∏©‡∏≤‡πÄ‡∏ä‡∏¥‡∏á‡∏Ñ‡∏≤‡∏î‡∏Å‡∏≤‡∏£‡∏ì‡πå ‡∏Å‡∏≤‡∏£‡∏ã‡πà‡∏≠‡∏°‡πÄ‡∏ã‡∏ô‡πÄ‡∏ã‡∏≠‡∏£‡πå‡πÅ‡∏•‡∏∞‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ä‡πà‡∏ß‡∏¢‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏Å‡∏¥‡∏î‡∏ß‡∏¥‡∏Å‡∏§‡∏ï‡∏¥"
  },
  {
    q: "‡∏°‡∏µ‡∏´‡∏°‡πâ‡∏≠‡πÅ‡∏õ‡∏•‡∏á 2 ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Ç‡∏ô‡∏≤‡∏ô‡∏Å‡∏±‡∏ô ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÅ‡∏£‡∏Å‡∏Ñ‡πà‡∏≤ loss ‡∏™‡∏π‡∏á‡∏Å‡∏ß‡πà‡∏≤‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏™‡∏≠‡∏á‡∏û‡∏≠‡∏™‡∏°‡∏Ñ‡∏ß‡∏£ ‡∏à‡∏∞‡∏à‡∏±‡∏î‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏•‡∏î‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢‡∏£‡∏ß‡∏°?",
    choices: [
      "‡∏õ‡∏£‡∏±‡∏ö‡∏™‡∏±‡∏î‡∏™‡πà‡∏ß‡∏ô‡πÇ‡∏´‡∏•‡∏î‡πÉ‡∏´‡πâ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ó‡∏µ‡πà loss ‡∏ï‡πà‡∏≥‡∏£‡∏±‡∏ö‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ ‡πÅ‡∏•‡∏∞‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏£‡∏±‡∏Å‡∏©‡∏≤‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á loss ‡∏™‡∏π‡∏á",
      "‡∏õ‡∏¥‡∏î‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á loss ‡∏ï‡πà‡∏≥",
      "‡πÑ‡∏°‡πà‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£",
      "‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà‡∏Å‡∏≤‡∏£‡∏•‡πâ‡∏≤‡∏á‡∏ö‡∏π‡∏ä‡∏ä‡∏¥‡πà‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏™‡∏≠‡∏á‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á"
    ],
    answer: 0,
    hint: "‡∏ñ‡∏≤‡∏°: ‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡∏™‡∏π‡∏ç‡πÄ‡∏™‡∏µ‡∏¢‡∏Å‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡πà‡∏≤‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏ñ‡∏∑‡∏≠‚Äî‡∏™‡∏°‡∏î‡∏∏‡∏•‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£?",
    explain: "‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏∞‡∏à‡∏≤‡∏¢‡πÇ‡∏´‡∏•‡∏î‡∏ï‡∏≤‡∏°‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û‡∏ä‡πà‡∏ß‡∏¢‡∏•‡∏î‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢‡∏£‡∏ß‡∏° ‡∏Ç‡∏ì‡∏∞‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏£‡∏±‡∏Å‡∏©‡∏≤‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ó‡∏µ‡πà loss ‡∏™‡∏π‡∏á ‡∏ó‡∏±‡πâ‡∏á‡∏¢‡∏±‡∏á‡∏Ñ‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡πà‡∏≤‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏ñ‡∏∑‡∏≠‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö"
  }
];

/* ==========================
   ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÄ‡∏Å‡∏°
   ========================== */
const TOTAL_TIME = 45;
let idx = 0;
let score = 0;
let timer = null;
let tLeft = TOTAL_TIME;
let accepting = true;
let muted = false;

/* DOM */
const el = (id)=>document.getElementById(id);
el('qTotal').textContent = QUESTIONS.length;

/* ==========================
   ‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏™‡∏µ‡∏¢‡∏á (WebAudio) ‚Äî ‡πÄ‡∏û‡∏•‡∏á‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á + SFX
   ========================== */
const AudioCtx = window.AudioContext || window.webkitAudioContext;
const audio = {
  ctx: null, master: null, musicNodes: [],
  ensure(){
    if(this.ctx) return;
    this.ctx = new AudioCtx();
    this.master = this.ctx.createGain();
    this.master.gain.value = 0.7;
    this.master.connect(this.ctx.destination);
  },
  sfxCorrect(){
    if(!this.ctx || muted) return;
    const o = this.ctx.createOscillator();
    const g = this.ctx.createGain();
    o.type='triangle'; o.frequency.setValueAtTime(320, this.ctx.currentTime);
    o.frequency.exponentialRampToValueAtTime(880, this.ctx.currentTime+0.25);
    g.gain.setValueAtTime(0.0001, this.ctx.currentTime);
    g.gain.exponentialRampToValueAtTime(0.6, this.ctx.currentTime+0.03);
    g.gain.exponentialRampToValueAtTime(0.0001, this.ctx.currentTime+0.35);
    o.connect(g); g.connect(this.master); o.start(); o.stop(this.ctx.currentTime+0.36);
  },
  sfxWrong(){
    if(!this.ctx || muted) return;
    const o = this.ctx.createOscillator();
    const g = this.ctx.createGain();
    o.type='sawtooth'; o.frequency.setValueAtTime(220, this.ctx.currentTime);
    o.frequency.exponentialRampToValueAtTime(110, this.ctx.currentTime+0.25);
    g.gain.setValueAtTime(0.0001, this.ctx.currentTime);
    g.gain.exponentialRampToValueAtTime(0.5, this.ctx.currentTime+0.03);
    g.gain.exponentialRampToValueAtTime(0.0001, this.ctx.currentTime+0.3);
    o.connect(g); g.connect(this.master); o.start(); o.stop(this.ctx.currentTime+0.32);
  },
  click(){
    if(!this.ctx || muted) return;
    const o = this.ctx.createOscillator();
    const g = this.ctx.createGain();
    o.type='square'; o.frequency.value=660;
    g.gain.setValueAtTime(0.0001, this.ctx.currentTime);
    g.gain.exponentialRampToValueAtTime(0.3, this.ctx.currentTime+0.02);
    g.gain.exponentialRampToValueAtTime(0.0001, this.ctx.currentTime+0.1);
    o.connect(g); g.connect(this.master); o.start(); o.stop(this.ctx.currentTime+0.12);
  },
  toggleMusic(on){
    if(on===false){ this.stopMusic(); return; }
    this.ensure();
    if(this.musicNodes.length){ return; }
    const ctx = this.ctx;
    const bpm = 92;
    const beat = 60/bpm;
    const mix = ctx.createGain(); mix.gain.value = 0.25; mix.connect(this.master);
    const kick = ()=> {
      const o = ctx.createOscillator(); const g = ctx.createGain();
      o.type='sine'; o.frequency.setValueAtTime(120,ctx.currentTime);
      o.frequency.exponentialRampToValueAtTime(45,ctx.currentTime+0.2);
      g.gain.setValueAtTime(0.0001,ctx.currentTime);
      g.gain.exponentialRampToValueAtTime(0.9,ctx.currentTime+0.01);
      g.gain.exponentialRampToValueAtTime(0.0001,ctx.currentTime+0.25);
      o.connect(g); g.connect(mix); o.start(); o.stop(ctx.currentTime+0.26);
    };
    const hat = ()=> {
      const n = ctx.createBufferSource();
      const b = ctx.createBuffer(1, 2205, ctx.sampleRate);
      const d = b.getChannelData(0);
      for(let i=0;i<d.length;i++){ d[i]=(Math.random()*2-1)*Math.pow(1-i/d.length,2); }
      n.buffer=b;
      const g=ctx.createGain(); g.gain.value=.15; n.connect(g); g.connect(mix);
      n.start();
    };
    const pad = ()=>{
      const freqs=[220, 277, 330]; // A, C#, E
      freqs.forEach((f,i)=>{
        const o=ctx.createOscillator(); const g=ctx.createGain();
        o.type='sawtooth'; o.frequency.value=f;
        g.gain.value=0.0001; g.gain.linearRampToValueAtTime(0.06,ctx.currentTime+0.3+i*0.02);
        g.gain.linearRampToValueAtTime(0.03,ctx.currentTime+beat*4);
        o.connect(g); g.connect(mix); o.start(); o.stop(ctx.currentTime+beat*4.2);
        audio.musicNodes.push(o,g);
      });
    };
    const loop = ()=>{
      if(muted) return;
      pad();
      kick(); setTimeout(kick, beat*1000*2);
      setTimeout(()=>hat(), beat*1000*1);
      setTimeout(()=>hat(), beat*1000*1.5);
      setTimeout(()=>hat(), beat*1000*2.5);
      setTimeout(()=>hat(), beat*1000*3);
      audio._loopId = setTimeout(loop, beat*1000*4);
    };
    loop();
  },
  stopMusic(){
    try{ clearTimeout(this._loopId); }catch{}
    this.musicNodes.forEach(n=>{ try{ n.stop?.(); n.disconnect?.(); }catch{} });
    this.musicNodes = [];
  }
};

/* ==========================
   UI Helpers
   ========================== */
function show(id){
  for(const sec of ['screen-start','screen-how','screen-quiz','screen-summary']){
    el(sec).hidden = (sec !== id);
  }
}
function renderQuestion(){
  accepting = true;
  const item = QUESTIONS[idx];
  el('qNum').textContent = idx+1;
  el('question').textContent = item.q;
  const wrap = el('choices');
  wrap.innerHTML = '';
  item.choices.forEach((c,i)=>{
    const btn = document.createElement('button');
    btn.className='choice';
    btn.textContent = String.fromCharCode(65+i)+'. '+c;
    btn.onclick = ()=> selectAnswer(i, btn);
    wrap.appendChild(btn);
  });
  el('explain').hidden = true;
  startTimer();
}
function startTimer(){
  clearInterval(timer);
  tLeft = TOTAL_TIME;
  updateTimeUI();
  timer = setInterval(()=>{
    tLeft -= 0.1;
    if(tLeft <= 0){
      tLeft = 0;
      updateTimeUI();
      clearInterval(timer);
      timesUp();
    }else{
      updateTimeUI();
    }
  }, 100);
}
function updateTimeUI(){
  el('time').textContent = Math.ceil(tLeft);
  const C = 2*Math.PI*18;
  const ratio = tLeft/TOTAL_TIME;
  el('progress').setAttribute('stroke-dasharray', C.toFixed(2));
  el('progress').setAttribute('stroke-dashoffset', (C*(1-ratio)).toFixed(2));
}
function timesUp(){
  if(!accepting) return;
  accepting = false;
  lockChoices();
  audio.sfxWrong();
  showExplain(false, 0);
}
function lockChoices(){
  [...document.querySelectorAll('.choice')].forEach(b=>b.disabled=true);
}

/* ==========================
   Logic: ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö & ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô
   ========================== */
function selectAnswer(i, btn){
  if(!accepting) return;
  accepting = false;
  clearInterval(timer);
  const item = QUESTIONS[idx];
  const correct = (i === item.answer);
  const timeRatio = tLeft / TOTAL_TIME;
  let gained = 0;
  if(correct){
    gained = Math.round(1000 * timeRatio);
    btn.classList.add('correct');
    audio.sfxCorrect();
  }else{
    btn.classList.add('wrong');
    audio.sfxWrong();
  }
  const buttons = [...document.querySelectorAll('.choice')];
  buttons.forEach((b,bi)=>{ if(bi===item.answer) b.classList.add('correct'); b.disabled = true; });
  score += gained;
  el('score').textContent = score;
  showExplain(correct, gained);
}

function showExplain(correct, gained){
  const item = QUESTIONS[idx];
  const box = el('explain');
  const emoji = correct ? "‚úÖ" : (tLeft===0 ? "‚è∞" : "‚ùå");
  const gainTxt = correct ? ` +${gained} ‡πÅ‡∏ï‡πâ‡∏°` : " +0 ‡πÅ‡∏ï‡πâ‡∏°";
  box.innerHTML = `
    <div style="font-weight:800">${emoji} ‡πÄ‡∏â‡∏•‡∏¢: ${String.fromCharCode(65+item.answer)} ‚Äî ${item.choices[item.answer]} <span style="color:#FFD166">${gainTxt}</span></div>
    <div style="margin-top:6px">${item.explain}</div>
    <div style="margin-top:8px; opacity:.9"><em>‡∏Ñ‡∏¥‡∏î‡∏ï‡πà‡∏≠ (‡πÇ‡∏™‡πÄ‡∏Ñ‡∏£‡∏ï‡∏µ‡∏™):</em> ${item.hint}</div>
    <div style="display:flex; gap:8px; flex-wrap:wrap; margin-top:10px">
      <button class="btn alt" id="btnNext">${ idx < QUESTIONS.length-1 ? "‡∏Ç‡πâ‡∏≠‡∏ï‡πà‡∏≠‡πÑ‡∏õ ‚ñ∂" : "‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏• ‚ñ∂"}</button>
      <button class="btn ghost" id="btnReplayMini">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°‡πÉ‡∏´‡∏°‡πà</button>
    </div>
  `;
  box.hidden = false;
  el('btnNext').onclick = next;
  el('btnReplayMini').onclick = resetGame;
}

function next(){
  idx++;
  if(idx >= QUESTIONS.length){
    endGame();
  }else{
    renderQuestion();
  }
}

function endGame(){
  show('screen-summary');
  el('finalScore').textContent = score;
  let remark = "‡∏™‡∏∏‡∏î‡∏ï‡∏¥‡πà‡∏á! ‡∏™‡∏≤‡∏¢‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏£‡∏±‡∏Å‡∏©‡∏≤ AI ‡∏Ç‡∏≠‡∏á‡πÅ‡∏ó‡πâ üî•";
  if(score < QUESTIONS.length*800) remark = "‡∏î‡∏µ‡∏°‡∏≤‡∏Å! ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡πÄ‡∏Å‡πá‡∏ö‡∏î‡∏µ‡πÄ‡∏ó‡∏•‡∏≠‡∏µ‡∏Å‡∏ô‡∏¥‡∏î ‚ú®";
  if(score < QUESTIONS.length*500) remark = "‡πÑ‡∏õ‡∏ï‡πà‡∏≠‡πÑ‡∏î‡πâ‡∏≠‡∏µ‡∏Å! ‡∏≠‡πà‡∏≤‡∏ô‡πÄ‡∏â‡∏•‡∏¢‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏≠‡∏±‡∏õ‡∏™‡∏Å‡∏¥‡∏• üìö";
  el('performance').textContent = remark;
  saveLeaderboard(score);
  renderLeaderboard();
}

/* ==========================
   Hints & Skip
   ========================== */
el('btnHint').onclick = ()=>{
  audio.click();
  const item = QUESTIONS[idx];
  const box = el('explain');
  box.hidden = false;
  box.innerHTML = `
    <div style="font-weight:800">üí¨ ‡πÇ‡∏™‡πÄ‡∏Ñ‡∏£‡∏ï‡∏µ‡∏™‡∏ñ‡∏≤‡∏°:</div>
    <div style="margin-top:6px">${item.hint}</div>
    <div style="margin-top:8px; opacity:.8">*‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏´‡∏±‡∏Å‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô ‚Äî ‡πÉ‡∏ä‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏¥‡∏î‡πÉ‡∏´‡πâ‡∏•‡∏∂‡∏Å*</div>
  `;
};
el('btnSkip').onclick = ()=>{
  audio.click();
  if(!accepting) return;
  clearInterval(timer);
  accepting = false;
  showExplain(false, 0);
};

/* ==========================
   Leaderboard (localStorage)
   ========================== */
function saveLeaderboard(s){
  const key = 'spu_quiz_lb';
  const now = new Date();
  const rec = { score:s, ts: now.toISOString() };
  const list = JSON.parse(localStorage.getItem(key) || '[]');
  list.push(rec);
  list.sort((a,b)=>b.score - a.score);
  const top = list.slice(0,10);
  localStorage.setItem(key, JSON.stringify(top));
}
function renderLeaderboard(){
  const key = 'spu_quiz_lb';
  const list = JSON.parse(localStorage.getItem(key) || '[]');
  const ul = el('leaderList');
  ul.innerHTML = '';
  if(!list.length){ ul.innerHTML = '<li>‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥ ‡∏•‡∏≠‡∏á‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏•‡∏¢!</li>'; return; }
  list.forEach((r,i)=>{
    const li = document.createElement('li');
    const d = new Date(r.ts);
    const t = d.toLocaleString();
    li.innerHTML = `<span>#${i+1}</span> <strong>${r.score} ‡πÅ‡∏ï‡πâ‡∏°</strong> <span style="opacity:.75">${t}</span>`;
    ul.appendChild(li);
  });
}

/* ==========================
   Start/Reset/Share
   ========================== */
function resetGame(){
  idx = 0; score = 0;
  el('score').textContent = 0;
  show('screen-quiz');
  renderQuestion();
}
el('btnStart').onclick = ()=>{ audio.ensure(); audio.toggleMusic(true); resetGame(); };
el('btnHow').onclick = ()=>{ audio.click(); show('screen-how'); };
el('btnHowPlay').onclick = ()=>{ audio.click(); audio.ensure(); audio.toggleMusic(true); resetGame(); };
el('btnBack').onclick = ()=>{ audio.click(); show('screen-start'); };
el('btnReplay').onclick = ()=>{ audio.click(); resetGame(); };
el('btnShare').onclick = async ()=>{
  audio.click();
  const text = `‡∏â‡∏±‡∏ô‡∏ó‡∏≥‡πÑ‡∏î‡πâ ${el('finalScore').textContent} ‡πÅ‡∏ï‡πâ‡∏°‡πÉ‡∏ô‡πÄ‡∏Å‡∏°‡∏ã‡πà‡∏≠‡∏°‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏´‡∏°‡πâ‡∏≠‡πÅ‡∏õ‡∏•‡∏á SPU x MEA! ‡∏•‡∏≠‡∏á‡∏™‡∏¥ üëâ`;
  if(navigator.share){
    try{ await navigator.share({title:'SPU Quiz', text, url: location.href}); }catch{}
  }else{
    await navigator.clipboard.writeText(text + ' ' + location.href);
    toast("‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÅ‡∏ä‡∏£‡πå‡πÅ‡∏•‡πâ‡∏ß!");
  }
};

/* ==========================
   Copy Link Buttons
   ========================== */
async function copySiteLink(){
  const url = location.href;
  try{
    await navigator.clipboard.writeText(url);
    toast("‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÅ‡∏•‡πâ‡∏ß! üëç");
  }catch{
    // fallback
    const t = document.createElement('textarea');
    t.value = url; document.body.appendChild(t); t.select();
    try{ document.execCommand('copy'); toast("‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÅ‡∏•‡πâ‡∏ß! üëç"); }catch{}
    t.remove();
  }
}
['btnCopyLink','btnCopyLink2','btnCopyLink3'].forEach(id=>{
  const b = document.getElementById(id);
  if(b) b.onclick = ()=>{ audio.click(); copySiteLink(); };
});

/* ==========================
   Mute / Unmute
   ========================== */
function updateMuteButtons(){
  el('btnMute').textContent = muted ? 'üîá ‡∏õ‡∏¥‡∏î‡πÄ‡∏™‡∏µ‡∏¢‡∏á' : 'üîä ‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏û‡∏•‡∏á';
  el('btnMute2').textContent = muted ? 'üîá ‡πÄ‡∏û‡∏•‡∏á' : 'üîä ‡πÄ‡∏û‡∏•‡∏á';
}
function setMuted(v){
  muted = v;
  if(!audio.ctx) return;
  audio.master.gain.value = muted ? 0 : 0.7;
  if(muted){ audio.stopMusic(); }
  else { audio.toggleMusic(true); }
  updateMuteButtons();
}
el('btnMute').onclick = ()=>{ audio.ensure(); setMuted(!muted); };
el('btnMute2').onclick = ()=>{ audio.ensure(); setMuted(!muted); };

/* ==========================
   Toast helper
   ========================== */
function toast(msg){
  const t = el('toast'); t.textContent = msg; t.classList.add('show');
  clearTimeout(window._toastId);
  window._toastId = setTimeout(()=> t.classList.remove('show'), 1500);
}

/* ==========================
   Accessibility bits
   ========================== */
document.addEventListener('keydown', (e)=>{
  if(e.key==='m' || e.key==='M'){ audio.ensure(); setMuted(!muted); }
});
</script>
</body>
</html>
