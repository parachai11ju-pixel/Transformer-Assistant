<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
<title>‡∏û‡∏•‡∏¥‡∏Å‡πÇ‡∏â‡∏°‡∏á‡∏≤‡∏ô‡∏ß‡∏¥‡∏®‡∏ß‡∏Å‡∏£‡∏£‡∏°‡∏î‡πâ‡∏ß‡∏¢ AI | MEA-SPU Quiz</title>
<meta name="theme-color" content="#0ff" />
<style>
  :root{
    --bg1:#0b0f1a; --bg2:#151d2b; --acc:#00e0ff; --acc2:#ff3df0; --ok:#26d07c; --bad:#ff5e6c; --warn:#ffd166;
    --txt:#eaf6ff; --muted:#9fb3c8;
  }
  *{box-sizing:border-box}
  body{
    margin:0; font-family:"Sarabun",system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Noto Sans Thai","Sukhumvit Set",sans-serif;
    color:var(--txt);
    background: radial-gradient(1200px 800px at 70% -10%, #1a2550 0%, #121826 40%, #0a0d16 100%), linear-gradient(135deg,var(--bg1),var(--bg2));
    min-height:100svh; display:flex; align-items:center; justify-content:center; overflow-x:hidden;
  }
  .app{ width:min(100%,900px); padding:clamp(14px,3vw,24px); }
  .card{
    background: rgba(255,255,255,0.06);
    backdrop-filter: blur(14px);
    border:1px solid rgba(255,255,255,0.1);
    border-radius:20px; padding:clamp(16px,3vw,28px);
    box-shadow: 0 10px 40px rgba(0,0,0,0.45), inset 0 0 0 1px rgba(255,255,255,0.05);
  }
  h1{
    margin:0 0 10px; line-height:1.15;
    font-size:clamp(24px,6vw,44px); letter-spacing:.3px;
    background: linear-gradient(90deg,var(--acc),var(--acc2));
    -webkit-background-clip:text; background-clip:text; color:transparent;
    text-shadow: 0 0 18px rgba(0,224,255,.35);
  }
  .sub{ color:var(--muted); font-size:clamp(13px,3.5vw,18px); }
  .badge{
    display:inline-flex; gap:10px; align-items:center;
    background:linear-gradient(135deg,rgba(0,224,255,.18),rgba(255,61,240,.15));
    border:1px solid rgba(0,224,255,.35);
    padding:8px 14px; border-radius:999px; font-weight:700;
    font-size:clamp(12px,3.5vw,16px); margin:.5rem 0 1rem;
  }
  .row{display:grid; gap:14px}
  .hud{
    display:grid; grid-template-columns:1fr auto; gap:12px; align-items:center; margin:.6rem 0 1rem;
    font-size:clamp(14px,4vw,18px);
  }
  .pill{padding:.3rem .7rem; border-radius:999px; background:rgba(255,255,255,.08); border:1px solid rgba(255,255,255,.1)}
  .score{font-weight:800; font-size:clamp(18px,6vw,28px)}
  .timer-wrap{height:14px; background:rgba(255,255,255,.08); border-radius:999px; overflow:hidden; border:1px solid rgba(255,255,255,.12)}
  .timer-bar{height:100%; width:100%; background:linear-gradient(90deg,var(--ok),#6ee7ff,var(--acc2)); transition:width .2s linear}
  .qno{font-weight:700}
  .qtext{ font-size:clamp(18px,5vw,26px); line-height:1.4; font-weight:800; letter-spacing:.2px; }
  .choices{display:grid; gap:10px; margin-top:10px}
  .choice{
    display:flex; gap:10px; align-items:flex-start; width:100%;
    background:rgba(255,255,255,.06); border:1px solid rgba(255,255,255,.12);
    border-radius:16px; padding:14px 14px; text-align:left;
    font-size:clamp(15px,4.5vw,20px); font-weight:700; line-height:1.35;
    cursor:pointer; transition:transform .06s ease, border-color .2s, background .2s;
  }
  .choice:active{transform:scale(.99)}
  .choice .letter{
    flex:0 0 auto; width:36px; height:36px; border-radius:10px;
    display:grid; place-items:center; font-weight:900;
    background:rgba(255,255,255,.12); border:1px solid rgba(255,255,255,.16)
  }
  .choice.correct{border-color:rgba(38,208,124,.9); background:rgba(38,208,124,.15)}
  .choice.wrong{border-color:rgba(255,94,108,.9); background:rgba(255,94,108,.15)}
  .tools{display:flex; gap:10px; flex-wrap:wrap; margin-top:12px}
  .btn{
    appearance:none; border:1px solid rgba(255,255,255,.18);
    background:linear-gradient(135deg,rgba(255,255,255,.08),rgba(255,255,255,.02));
    color:var(--txt); padding:12px 16px; border-radius:14px; font-weight:800;
    font-size:clamp(14px,4vw,18px);
    box-shadow: 0 6px 18px rgba(0,0,0,.35), inset 0 0 0 1px rgba(255,255,255,.06);
    cursor:pointer;
  }
  .btn.primary{ border-color:rgba(0,224,255,.6);
    background:linear-gradient(135deg,rgba(0,224,255,.25),rgba(255,61,240,.2)); }
  .btn.ghost{background:transparent}
  .muter{display:flex; align-items:center; gap:8px}
  .footnote{color:var(--muted); font-size:clamp(12px,3.5vw,14px); margin-top:8px}
  .explain{
    margin-top:12px; padding:12px; border-radius:14px;
    border:1px dashed rgba(255,255,255,.25); background:rgba(255,255,255,.06);
    font-size:clamp(14px,4vw,18px)
  }
  .soc{color:#b9f; font-weight:800}
  .center{display:grid; place-items:center; text-align:center}
  .big{font-size:clamp(22px,8vw,46px); font-weight:900}
  .title{font-size:clamp(16px,4.5vw,20px); color:var(--muted)}
  .hidden{display:none}
  .flex{display:flex; gap:10px; align-items:center; flex-wrap:wrap}
  .leader{margin-top:10px; border-top:1px dashed rgba(255,255,255,.2); padding-top:10px}
  .gold{color:#ffd166}
  canvas#fx{position:fixed; inset:0; pointer-events:none}
</style>
</head>
<body>
<canvas id="fx"></canvas>
<div class="app">
  <div class="card" id="screen-home">
    <div class="badge">üöÄ ‡∏û‡∏•‡∏¥‡∏Å‡πÇ‡∏â‡∏°‡∏á‡∏≤‡∏ô‡∏ß‡∏¥‡∏®‡∏ß‡∏Å‡∏£‡∏£‡∏°‡∏î‡πâ‡∏ß‡∏¢ AI ‚Äî ‡∏ã‡πà‡∏≠‡∏°‡∏Å‡πà‡∏≠‡∏ô‡∏û‡∏±‡∏á ‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏Å‡πà‡∏≠‡∏ô‡∏ß‡∏¥‡∏Å‡∏§‡∏ï‡∏¥ (MEA‚ÄëSPU)</div>
    <h1>‡πÄ‡∏Å‡∏°‡∏Ñ‡∏ß‡∏¥‡∏ã: ‡∏à‡∏±‡∏î‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç ‚Äú‡∏ã‡πà‡∏≠‡∏°‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏´‡∏°‡πâ‡∏≠‡πÅ‡∏õ‡∏•‡∏á‚Äù</h1>
    <div class="sub">‡∏û‡∏±‡∏í‡∏ô‡∏≤‡πÇ‡∏î‡∏¢ <b>‡∏ú‡∏®.‡∏î‡∏£.‡∏†‡∏£‡∏ä‡∏±‡∏¢ ‡∏à‡∏π‡∏≠‡∏ô‡∏∏‡∏ß‡∏±‡∏í‡∏ô‡∏Å‡∏∏‡∏•</b> ‚Ä¢ ‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö <b>‡∏ñ‡∏≤‡∏°‡∏Å‡∏•‡∏±‡∏ö‡πÅ‡∏ö‡∏ö‡∏ä‡∏ß‡∏ô‡∏Ñ‡∏¥‡∏î</b> ‚Ä¢ ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏á‡∏≤‡∏ô‡∏î‡∏¥‡∏™‡∏ó‡∏£‡∏¥‡∏ö‡∏¥‡∏ß‡∏ä‡∏±‡∏ô‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡∏ô‡∏Ñ‡∏£‡∏´‡∏•‡∏ß‡∏á</div>
    <div class="row" style="margin-top:12px">
      <div class="pill">‚è±Ô∏è 45 ‡∏ß‡∏¥/‡∏Ç‡πâ‡∏≠ ‚Ä¢ ‚úÖ ‡∏ñ‡∏π‡∏Å‡πÄ‡∏£‡πá‡∏ß‡πÑ‡∏î‡πâ‡πÉ‡∏Å‡∏•‡πâ <b>1,000</b> ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô (‡∏•‡∏î‡∏•‡∏á‡∏ï‡∏≤‡∏°‡πÄ‡∏ß‡∏•‡∏≤)</div>
      <div class="pill">üì± ‡∏ü‡∏≠‡∏ô‡∏ï‡πå‡πÉ‡∏´‡∏ç‡πà ‡∏≠‡πà‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Gen Z</div>
      <div class="pill">üéß ‡∏î‡∏ô‡∏ï‡∏£‡∏µ SF‚ÄëCinema + ‡πÄ‡∏≠‡∏ü‡πÄ‡∏ü‡∏Å‡∏ï‡πå‡πÄ‡∏™‡∏µ‡∏¢‡∏á</div>
    </div>
    <div class="tools" style="margin-top:14px">
      <button class="btn primary" id="btn-start">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏•‡∏¢!</button>
      <button class="btn" id="btn-how">‡∏ß‡∏¥‡∏ò‡∏µ‡πÄ‡∏•‡πà‡∏ô</button>
      <label class="btn ghost muter"><input type="checkbox" id="mute" /> ‡∏õ‡∏¥‡∏î‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</label>
    </div>
    <div class="leader">
      <div class="title">üèÜ ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î‡∏Ç‡∏≠‡∏á‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏ô‡∏µ‡πâ</div>
      <div id="best" class="big gold">0</div>
    </div>
    <div class="footnote">* ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏°‡∏∏‡πà‡∏á‡∏ï‡∏≤‡∏°‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô‡∏á‡∏≤‡∏ô‡∏î‡∏¥‡∏™‡∏ó‡∏£‡∏¥‡∏ö‡∏¥‡∏ß‡∏ä‡∏±‡∏ô‡∏Ç‡∏≠‡∏á MEA/IEC/IEEE ‡πÉ‡∏ô‡πÄ‡∏ä‡∏¥‡∏á‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à‡∏†‡∏≤‡∏Ñ‡∏™‡∏ô‡∏≤‡∏°</div>
  </div>

  <div class="card hidden" id="screen-how">
    <h1>‡∏ß‡∏¥‡∏ò‡∏µ‡πÄ‡∏•‡πà‡∏ô & ‡∏´‡∏•‡∏±‡∏Å‡∏Ñ‡∏¥‡∏î</h1>
    <div class="qtext">‡∏ï‡∏≠‡∏ö 4 ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å ‡∏†‡∏≤‡∏¢‡πÉ‡∏ô 45 ‡∏ß‡∏¥/‡∏Ç‡πâ‡∏≠ ‚Äî ‡∏¢‡∏¥‡πà‡∏á‡∏ï‡∏≠‡∏ö‡πÄ‡∏£‡πá‡∏ß‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏¢‡∏¥‡πà‡∏á‡∏™‡∏π‡∏á (‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î‡πÉ‡∏Å‡∏•‡πâ 1,000) ‡∏ñ‡πâ‡∏≤‡∏´‡∏°‡∏î‡πÄ‡∏ß‡∏•‡∏≤‡∏´‡∏£‡∏∑‡∏≠‡∏ú‡∏¥‡∏î ‡πÑ‡∏î‡πâ 0</div>
    <div class="explain">
      <div class="soc">‡∏ñ‡∏≤‡∏°‡∏Å‡∏•‡∏±‡∏ö‡πÅ‡∏ö‡∏ö‡∏ä‡∏ß‡∏ô‡∏Ñ‡∏¥‡∏î:</div>
      <ul>
        <li>‡∏Å‡πà‡∏≠‡∏ô‡∏ï‡∏≠‡∏ö ‡∏•‡∏≠‡∏á‡∏ñ‡∏≤‡∏°‡∏ß‡πà‡∏≤ ‚Äú<b>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢/‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡∏à‡πà‡∏≤‡∏¢‡πÑ‡∏ü</b> ‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏à‡∏≤‡∏Å‡∏≠‡∏∞‡πÑ‡∏£‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ?‚Äù</li>
        <li>‚Äú‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏∞‡∏ó‡∏≥‡πÉ‡∏î <b>‡∏•‡∏î‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥/‡πÇ‡∏´‡∏•‡∏î/‡∏≠‡∏≤‡∏£‡πå‡∏Å</b> ‡πÑ‡∏î‡πâ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ?‚Äù ‡∏ô‡∏µ‡πà‡∏°‡∏±‡∏Å‡∏°‡∏≤‡∏Å‡πà‡∏≠‡∏ô‡∏ã‡πà‡∏≠‡∏°‡∏ñ‡∏≤‡∏ß‡∏£</li>
        <li><b>IPO</b>: Input (‡∏≠‡∏≤‡∏Å‡∏≤‡∏£/‡∏ö‡∏£‡∏¥‡∏ö‡∏ó) ‚Üí Process (‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á) ‚Üí Output (‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏á‡∏≤‡∏ô)</li>
      </ul>
    </div>
    <div class="tools">
      <button class="btn" id="btn-back">‚¨Ö ‡∏Å‡∏•‡∏±‡∏ö</button>
      <button class="btn primary" id="btn-start2">‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Ñ‡∏ß‡∏¥‡∏ã</button>
    </div>
  </div>

  <div class="card hidden" id="screen-quiz">
    <div class="hud">
      <div class="flex">
        <span class="pill">üìö MEA‚ÄëSPU</span>
        <span class="pill qno" id="qno">‡∏Ç‡πâ‡∏≠‡∏ó‡∏µ‡πà 1/10</span>
        <span class="pill">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô: <b id="score">0</b></span>
      </div>
      <label class="muter"><input type="checkbox" id="mute2"/> ‡∏õ‡∏¥‡∏î‡πÄ‡∏™‡∏µ‡∏¢‡∏á</label>
      <div class="timer-wrap" style="grid-column:1 / -1"><div id="bar" class="timer-bar"></div></div>
    </div>
    <div id="qtext" class="qtext">...</div>
    <div class="choices" id="choices"></div>
    <div class="tools">
      <button class="btn" id="btn-hint1">‡∏Ç‡∏≠ Hint 1</button>
      <button class="btn" id="btn-hint2">‡∏Ç‡∏≠ Hint 2</button>
      <button class="btn" id="btn-reveal">‡∏î‡∏π‡πÄ‡∏â‡∏•‡∏¢</button>
      <button class="btn ghost" id="btn-skip">‡∏Ç‡πâ‡∏≤‡∏° (0 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô)</button>
    </div>
    <div class="explain hidden" id="explain"></div>
  </div>

  <div class="card hidden" id="screen-result">
    <h1>‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏• üéâ</h1>
    <div class="big" id="finalScore">0</div>
    <div class="sub" id="summary"></div>
    <div id="badge" class="center" style="margin:12px 0"></div>
    <div class="tools center">
      <button class="btn primary" id="btn-retry">‡πÄ‡∏•‡πà‡∏ô‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á</button>
      <button class="btn" id="btn-home">‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å</button>
    </div>
    <div class="leader">
      <div class="title">üèÖ ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏ô‡∏µ‡πâ</div>
      <div>‡∏î‡∏µ‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î: <b id="best2">0</b></div>
      <div>‡πÄ‡∏•‡πà‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î: <b id="plays">0</b> ‡∏Ñ‡∏£‡∏±‡πâ‡∏á</div>
    </div>
  </div>
</div>

<canvas id="fx"></canvas>

<script>
/* ====== ‡∏ä‡∏∏‡∏î‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏° (‡πÄ‡∏î‡∏¥‡∏°) ====== */
const QUESTIONS = [
  { q:"‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ‡∏´‡∏°‡πâ‡∏≠‡πÅ‡∏õ‡∏•‡∏á‡πÅ‡∏Ç‡∏ß‡∏ô 400 kVA ‡πÇ‡∏´‡∏•‡∏î‡∏û‡∏µ‡∏Å 120% ‡∏Æ‡∏±‡∏°‡∏î‡∏±‡∏á + ‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥‡∏Ç‡∏î‡∏•‡∏ß‡∏î‡πÅ‡∏ï‡∏∞ 95¬∞C ‡∏°‡∏µ‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡∏´‡∏¢‡∏î‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢‡πÉ‡∏ï‡πâ‡∏´‡∏°‡πâ‡∏≠‡πÅ‡∏õ‡∏•‡∏á ‡∏Ç‡∏ì‡∏∞‡∏ù‡∏ô‡∏ï‡∏Å ‡∏ï‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏°‡∏≤‡∏Å ‡∏Ñ‡∏ß‡∏£‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£‡∏Å‡πà‡∏≠‡∏ô?",
    choices:["A) ‡∏à‡∏±‡∏î‡∏Ñ‡∏¥‡∏ß‡∏ã‡πà‡∏≠‡∏°‡∏£‡∏±‡πà‡∏ß‡∏ã‡∏∂‡∏°‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå‡∏´‡∏ô‡πâ‡∏≤","B) ‡∏ï‡∏£‡∏ß‡∏à‚Äì‡∏•‡∏î‡πÇ‡∏´‡∏•‡∏î‡∏ó‡∏±‡∏ô‡∏ó‡∏µ (‡∏™‡∏•‡∏±‡∏ö‡πÄ‡∏ü‡∏™/‡∏¢‡πâ‡∏≤‡∏¢‡∏ß‡∏á‡∏à‡∏£/‡πÄ‡∏õ‡∏¥‡∏î‡∏û‡∏±‡∏î‡∏•‡∏°) ‡πÅ‡∏•‡∏∞‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏´‡∏¢‡∏∏‡∏î‡πÄ‡∏î‡∏¥‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ñ‡πâ‡∏≤‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥‡πÑ‡∏°‡πà‡∏•‡∏î","C) ‡∏ó‡∏≥‡∏™‡∏µ‡πÉ‡∏´‡∏°‡πà‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏™‡∏ô‡∏¥‡∏°","D) ‡∏£‡∏≠‡πÉ‡∏´‡πâ‡∏û‡∏µ‡∏Å‡∏ú‡πà‡∏≤‡∏ô‡πÑ‡∏õ‡πÄ‡∏≠‡∏á"],
    correct:1,
    hints:["‡∏°‡∏≠‡∏á‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á ‚Äò‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡∏à‡πà‡∏≤‡∏¢‡πÑ‡∏ü‚Äô ‡πÅ‡∏•‡∏∞ ‚Äò‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥‡∏â‡∏±‡∏ö‡∏û‡∏•‡∏±‡∏ô‚Äô ‡∏≠‡∏∞‡πÑ‡∏£‡∏•‡∏î‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡πÑ‡∏î‡πâ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ?","‡∏Å‡∏≤‡∏£‡∏£‡∏±‡πà‡∏ß‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢‡∏¢‡∏±‡∏á‡πÄ‡∏ù‡πâ‡∏≤‡∏£‡∏∞‡∏ß‡∏±‡∏á‡πÑ‡∏î‡πâ ‡πÅ‡∏ï‡πà‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡πâ‡∏≠‡∏ô‡∏Å‡∏±‡∏ö‡πÇ‡∏≠‡πÄ‡∏ß‡∏≠‡∏£‡πå‡πÇ‡∏´‡∏•‡∏î‡∏≠‡∏≤‡∏à‡∏û‡∏±‡∏á‡πÅ‡∏ö‡∏ö‡∏â‡∏±‡∏ö‡∏û‡∏•‡∏±‡∏ô"],
    why:"‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢/‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏≤‡∏Å‡πà‡∏≠‡∏ô ‡∏•‡∏î‡πÇ‡∏´‡∏•‡∏î/‡∏£‡∏∞‡∏ö‡∏≤‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡πâ‡∏≠‡∏ô‡∏ó‡∏±‡∏ô‡∏ó‡∏µ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏•‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡πÄ‡∏ó‡∏≠‡∏£‡πå‡∏°‡∏≠‡∏•‡∏£‡∏±‡∏ô‡∏≠‡∏∞‡πÄ‡∏ß‡∏¢‡πå‡πÅ‡∏•‡∏∞‡∏≠‡∏≤‡∏£‡πå‡∏Å",
    takeaway:"‡∏á‡∏≤‡∏ô‡πÅ‡∏Å‡πâ‡πÄ‡∏´‡∏ï‡∏∏‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏≤‡∏Å‡πà‡∏≠‡∏ô‡∏á‡∏≤‡∏ô‡πÑ‡∏°‡πà‡πÄ‡∏£‡πà‡∏á‡∏î‡πà‡∏ß‡∏ô" },
  { q:"‡∏ï‡∏π‡πâ‡∏´‡∏°‡πâ‡∏≠‡πÅ‡∏õ‡∏•‡∏á‡∏ï‡∏±‡πâ‡∏á‡∏û‡∏∑‡πâ‡∏ô 1,000 kVA ‡∏°‡∏µ‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì DGA ‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î‡πÅ‡∏™‡∏î‡∏á‡∏Å‡πä‡∏≤‡∏ã‡∏≠‡∏≤‡∏£‡πå‡∏Å‡∏™‡∏π‡∏á‡∏Ç‡∏∂‡πâ‡∏ô‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á ‡πÅ‡∏ï‡πà‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏≠‡∏≤‡∏Å‡∏≤‡∏£‡∏†‡∏≤‡∏¢‡∏ô‡∏≠‡∏Å‡πÄ‡∏î‡πà‡∏ô ‡∏Ñ‡∏ß‡∏£‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏á‡∏≤‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£?",
    choices:["A) ‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏î‡∏±‡∏ö‡πÑ‡∏ü‡∏ï‡∏£‡∏ß‡∏à‡πÄ‡∏ä‡∏¥‡∏á‡∏•‡∏∂‡∏Å + ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏´‡∏°‡πâ‡∏≠‡πÅ‡∏õ‡∏•‡∏á‡∏™‡∏≥‡∏£‡∏≠‡∏á","B) ‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î‡∏û‡∏±‡∏î‡∏•‡∏°","C) ‡∏ï‡∏¥‡∏î‡∏™‡∏ï‡∏¥‡∏Å‡πÄ‡∏Å‡∏≠‡∏£‡πå‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô","D) ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏¢‡∏±‡∏á‡πÄ‡∏î‡∏¥‡∏ô‡πÑ‡∏î‡πâ"],
    correct:0,
    hints:["‡∏î‡∏π‡πÅ‡∏ô‡∏ß‡πÇ‡∏ô‡πâ‡∏° DGA ‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤‡∏Ñ‡πà‡∏≤‡πÄ‡∏î‡∏µ‡πà‡∏¢‡∏ß: ‡∏Ç‡∏∂‡πâ‡∏ô‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á = ‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á","‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡πÅ‡∏ú‡∏ô‡πÅ‡∏•‡∏∞‡∏™‡∏≥‡∏£‡∏≠‡∏á‡∏•‡∏î‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏ï‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç"],
    why:"‡∏Å‡πä‡∏≤‡∏ã‡∏à‡∏≤‡∏Å‡∏≠‡∏≤‡∏£‡πå‡∏Å‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡∏ö‡πà‡∏á‡∏ä‡∏µ‡πâ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ú‡∏¥‡∏î‡∏õ‡∏Å‡∏ï‡∏¥‡∏†‡∏≤‡∏¢‡πÉ‡∏ô ‡∏ï‡πâ‡∏≠‡∏á‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏´‡∏¢‡∏∏‡∏î‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏™‡∏≥‡∏£‡∏≠‡∏á ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏•‡∏î SAIDI/SAIFI ‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡∏¢‡∏´‡∏≤‡∏¢",
    takeaway:"Condition trending ‡∏ó‡∏µ‡πà‡∏ä‡∏µ‡πâ‡πÄ‡∏´‡∏ï‡∏∏‡∏£‡∏∏‡∏ô‡πÅ‡∏£‡∏á‡∏•‡πà‡∏ß‡∏á‡∏´‡∏ô‡πâ‡∏≤ ‡∏°‡∏µ‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏ï‡πà‡∏≠‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏á‡∏≤‡∏ô" },
  { q:"‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏£‡∏±‡πà‡∏ß‡∏Ç‡∏≠‡∏á‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ö‡∏∏‡∏ä‡∏ä‡∏¥‡∏á‡πÅ‡∏£‡∏á‡∏î‡∏±‡∏ô‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢ ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡∏£‡∏≤‡∏ö‡∏Ñ‡∏≤‡∏£‡πå‡∏ö‡∏≠‡∏ô ‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥‡∏õ‡∏Å‡∏ï‡∏¥ ‡πÇ‡∏´‡∏•‡∏î ~60% ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏≠‡∏∞‡πÑ‡∏£?",
    choices:["A) ‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î‡∏ó‡∏±‡∏ô‡∏ó‡∏µ + ‡∏≠‡∏∏‡∏î‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ô‡∏±‡∏î‡∏ã‡πà‡∏≠‡∏°‡πÄ‡∏ä‡∏¥‡∏á‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô","B) ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏´‡∏°‡πâ‡∏≠‡πÅ‡∏õ‡∏•‡∏á‡∏ó‡∏±‡∏ô‡∏ó‡∏µ","C) ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£‡πÄ‡∏•‡∏¢","D) ‡∏î‡∏±‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏ü‡∏µ‡∏î‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÅ‡∏ú‡∏ô"],
    correct:0,
    hints:["‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡πÑ‡∏ü‡πÑ‡∏´‡∏°‡πâ/‡∏≠‡∏≤‡∏£‡πå‡∏Å‡∏ï‡πà‡∏≥‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡∏≤‡∏£‡πå‡∏ö‡∏≠‡∏ô‡πÅ‡∏•‡∏∞‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥‡∏õ‡∏Å‡∏ï‡∏¥","‡∏ã‡πà‡∏≠‡∏°‡πÄ‡∏ä‡∏¥‡∏á‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡πÑ‡∏î‡πâ ‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏°‡∏≤‡∏Å"],
    why:"‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î/‡∏≠‡∏∏‡∏î‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß ‡∏•‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏π‡∏ç‡πÄ‡∏™‡∏µ‡∏¢‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô ‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡∏¥‡∏ß‡∏ã‡πà‡∏≠‡∏°‡πÄ‡∏ä‡∏¥‡∏á‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏ï‡∏≤‡∏°‡πÅ‡∏ú‡∏ô",
    takeaway:"‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πà‡∏á‡∏î‡πà‡∏ß‡∏ô‡∏Ç‡∏∂‡πâ‡∏ô‡∏Å‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏ï‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏à‡πà‡∏≤‡∏¢‡πÑ‡∏ü" },
  { q:"‡πÄ‡∏™‡∏µ‡∏¢‡∏á partial discharge (PD) ‡∏ó‡∏µ‡πà‡∏•‡πâ‡∏≠‡∏°‡∏Å‡∏£‡∏≤‡∏ß‡∏î‡πå‡∏Ç‡∏≠‡∏á‡∏ö‡∏∏‡∏ä‡∏ä‡∏¥‡∏á ‡∏°‡∏µ‡∏£‡∏≠‡∏¢‡∏Ñ‡∏≤‡∏£‡πå‡∏ö‡∏≠‡∏ô‡∏ä‡∏±‡∏î ‡πÅ‡∏ï‡πà‡πÇ‡∏´‡∏•‡∏î‡∏ï‡πà‡∏≥ ‡∏Ñ‡∏ß‡∏£‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£‡∏Å‡πà‡∏≠‡∏ô?",
    choices:["A) ‡πÄ‡∏ù‡πâ‡∏≤‡∏î‡∏π‡πÑ‡∏õ‡∏Å‡πà‡∏≠‡∏ô","B) ‡∏•‡πâ‡∏≤‡∏á‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î/‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡∏â‡∏ô‡∏ß‡∏ô/‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏∞‡∏¢‡∏∞‡∏Ñ‡∏•‡∏µ‡∏≠ ‡πÅ‡∏Å‡πâ PD ‡∏Å‡πà‡∏≠‡∏ô","C) ‡∏ó‡∏≤‡∏™‡∏µ‡∏ï‡∏π‡πâ","D) ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß"],
    correct:1,
    hints:["PD + ‡∏£‡∏≠‡∏¢‡∏Ñ‡∏≤‡∏£‡πå‡∏ö‡∏≠‡∏ô = ‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡πÅ‡∏ü‡∏•‡∏ä‡πÇ‡∏≠‡πÄ‡∏ß‡∏≠‡∏£‡πå","‡πÇ‡∏´‡∏•‡∏î‡∏ï‡πà‡∏≥‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏•‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏ó‡∏≤‡∏á‡∏â‡∏ô‡∏ß‡∏ô"],
    why:"PD ‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡πâ‡∏ô‡∏ï‡∏≠‡πÅ‡∏ü‡∏•‡∏ä‡πÇ‡∏≠‡πÄ‡∏ß‡∏≠‡∏£‡πå ‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏Å‡πâ‡∏ó‡∏µ‡πà‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏‡∏î‡πâ‡∏≤‡∏ô‡∏â‡∏ô‡∏ß‡∏ô/‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î/‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á",
    takeaway:"‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏â‡∏ô‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏î‡πâ‡∏ß‡∏¢‡∏´‡∏•‡∏±‡∏Å‡∏ê‡∏≤‡∏ô PD ‡∏°‡∏≤‡∏Å‡πà‡∏≠‡∏ô‡∏á‡∏≤‡∏ô‡∏£‡∏π‡∏õ‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå" },
  { q:"‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡∏™‡∏π‡∏á‡∏Å‡∏ß‡πà‡∏≤‡∏õ‡∏Å‡∏ï‡∏¥ 10‚Äì15¬∞C ‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á ‡∏û‡∏±‡∏î‡∏•‡∏°/‡∏õ‡∏±‡πä‡∏°‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏õ‡∏Å‡∏ï‡∏¥ ‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÇ‡∏≠‡πÄ‡∏ß‡∏≠‡∏£‡πå‡πÇ‡∏´‡∏•‡∏î ‡∏™‡∏á‡∏™‡∏±‡∏¢‡∏≠‡∏∞‡πÑ‡∏£‡πÅ‡∏•‡∏∞‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£‡∏Å‡πà‡∏≠‡∏ô?",
    choices:["A) ‡∏™‡∏á‡∏™‡∏±‡∏¢‡∏Å‡∏≤‡∏£‡∏ñ‡πà‡∏≤‡∏¢‡πÄ‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡πâ‡∏≠‡∏ô‡πÄ‡∏™‡∏∑‡πà‡∏≠‡∏° (‡∏ü‡∏¥‡∏ô‡∏™‡∏Å‡∏õ‡∏£‡∏Å/‡∏Å‡∏≤‡∏£‡πÑ‡∏´‡∏•‡πÄ‡∏ß‡∏µ‡∏¢‡∏ô‡πÑ‡∏°‡πà‡∏î‡∏µ) ‚Üí ‡∏•‡πâ‡∏≤‡∏á‡∏ü‡∏¥‡∏ô/‡∏ï‡∏£‡∏ß‡∏à‡∏Å‡∏≤‡∏£‡πÑ‡∏´‡∏•","B) ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ‡πÉ‡∏´‡πâ‡πÄ‡∏ï‡πá‡∏°","C) ‡∏õ‡∏¥‡∏î‡∏û‡∏±‡∏î‡∏•‡∏°‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏•‡∏î‡πÄ‡∏™‡∏µ‡∏¢‡∏á","D) ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£"],
    correct:0,
    hints:["‡∏ñ‡πâ‡∏≤‡πÇ‡∏´‡∏•‡∏î‡∏õ‡∏Å‡∏ï‡∏¥‡πÅ‡∏ï‡πà‡∏£‡πâ‡∏≠‡∏ô ‡πÅ‡∏õ‡∏•‡∏ß‡πà‡∏≤‡∏£‡∏∞‡∏ö‡∏≤‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡πâ‡∏≠‡∏ô‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤","‡πÅ‡∏Å‡πâ‡∏ó‡∏µ‡πà‡∏ü‡∏¥‡∏ô/‡∏Å‡∏≤‡∏£‡πÑ‡∏´‡∏•‡πÄ‡∏ß‡∏µ‡∏¢‡∏ô ‡∏•‡∏î‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥‡πÑ‡∏î‡πâ‡πÄ‡∏£‡πá‡∏ß"],
    why:"‡∏Å‡∏≤‡∏£‡∏£‡∏∞‡∏ö‡∏≤‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡πâ‡∏≠‡∏ô‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û‡∏Ñ‡∏∑‡∏≠‡∏Ñ‡∏≠‡∏Ç‡∏ß‡∏î ‡πÅ‡∏Å‡πâ‡∏ó‡∏µ‡πà‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏‡∏ó‡∏≤‡∏á‡πÄ‡∏ó‡∏≠‡∏£‡πå‡∏°‡∏≠‡∏•‡∏Å‡πà‡∏≠‡∏ô",
    takeaway:"‡∏ï‡∏±‡∏ß‡∏ä‡∏µ‡πâ‡∏ß‡∏±‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡πâ‡∏≠‡∏ô = ‡∏ï‡∏±‡∏ß‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏á‡∏≤‡∏ô‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç" },
  { q:"‡∏£‡∏µ‡∏Ñ‡∏≠‡∏£‡πå‡∏î‡πÅ‡∏£‡∏á‡∏î‡∏±‡∏ô‡∏ï‡∏Å‡∏ö‡πà‡∏≠‡∏¢‡πÉ‡∏ô‡∏ü‡∏µ‡∏î‡πÄ‡∏î‡∏≠‡∏£‡πå‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏£‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ä‡∏∏‡∏°‡∏ä‡∏ô ‡∏Ñ‡∏ß‡∏£‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£‡∏Å‡πà‡∏≠‡∏ô?",
    choices:["A) ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏ upstream/downstream + ‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏∏‡∏î‡∏ï‡πà‡∏≠/‡∏£‡∏µ‡πÇ‡∏Ñ‡∏•‡∏™‡πÄ‡∏ã‡∏≠‡∏£‡πå + ‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏ï‡∏≤‡∏°‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏","B) ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏´‡∏°‡πâ‡∏≠‡πÅ‡∏õ‡∏•‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏ï‡∏£‡∏ß‡∏à","C) ‡∏ï‡∏¥‡∏î‡∏™‡∏ï‡∏¥‡πä‡∏Å‡πÄ‡∏Å‡∏≠‡∏£‡πå‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå","D) ‡∏£‡∏≠‡∏à‡∏ô‡∏£‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡πÄ‡∏á‡∏µ‡∏¢‡∏ö"],
    correct:0,
    hints:["Voltage dip ‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏°‡∏≤‡∏Å ‚Üí ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏°‡∏≤‡∏Å‡πà‡∏≠‡∏ô","‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏à‡∏≤‡∏Å‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÄ‡∏´‡∏ï‡∏∏ ‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏¢‡∏Å‡∏ä‡∏∏‡∏î"],
    why:"‡πÅ‡∏Å‡πâ‡∏£‡∏≤‡∏Å‡πÄ‡∏´‡∏á‡πâ‡∏≤ ‡∏•‡∏î‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏ß‡∏á‡∏Å‡∏ß‡πâ‡∏≤‡∏á‡πÅ‡∏•‡∏∞‡πÉ‡∏ä‡πâ‡∏á‡∏ö‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û",
    takeaway:"‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏Ñ‡∏£‡∏∑‡∏≠‡∏Ç‡πà‡∏≤‡∏¢ + ‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ = ‡∏ï‡∏±‡∏ß‡∏ï‡∏±‡πâ‡∏á‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏á‡∏≤‡∏ô" },
  { q:"‡∏ö‡∏∏‡∏ä‡∏ä‡∏¥‡∏á‡πÅ‡∏£‡∏á‡∏ï‡πà‡∏≥‡πÅ‡∏ï‡∏Å‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢ ‡∏°‡∏µ‡∏Ñ‡∏£‡∏≤‡∏ö‡∏Ñ‡∏≤‡∏£‡πå‡∏ö‡∏≠‡∏ô‡∏ä‡πà‡∏ß‡∏á‡∏ù‡∏ô‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á ‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏á‡∏≤‡∏ô?",
    choices:["A) ‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î/‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ö‡∏∏‡∏ä‡∏ä‡∏¥‡∏á‡πÄ‡∏£‡πà‡∏á‡∏î‡πà‡∏ß‡∏ô ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ô‡∏ô‡πâ‡∏≥","B) ‡∏ó‡∏≤‡∏™‡∏µ‡∏ï‡∏π‡πâ","C) ‡∏£‡∏≠‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏•‡πâ‡∏á","D) ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÇ‡∏´‡∏•‡∏î"],
    correct:0,
    hints:["‡πÅ‡∏ï‡∏Å+‡∏Ñ‡∏≤‡∏£‡πå‡∏ö‡∏≠‡∏ô+‡πÄ‡∏õ‡∏µ‡∏¢‡∏Å = ‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡πÅ‡∏ü‡∏•‡∏ä‡πÇ‡∏≠‡πÄ‡∏ß‡∏≠‡∏£‡πå","‡πÅ‡∏Å‡πâ‡πÅ‡∏•‡∏∞‡∏Å‡∏±‡∏ô‡∏ô‡πâ‡∏≥‡∏ó‡∏±‡∏ô‡∏ó‡∏µ"],
    why:"‡∏•‡∏î‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡πÅ‡∏ü‡∏•‡∏ä‡πÇ‡∏≠‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ó‡∏µ‡πà‡∏≠‡∏≤‡∏à‡∏î‡∏±‡∏ö‡∏ß‡∏á‡∏Å‡∏ß‡πâ‡∏≤‡∏á ‡πÅ‡∏•‡∏∞‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡∏ö‡∏∏‡∏Ñ‡∏•‡∏≤‡∏Å‡∏£",
    takeaway:"‡∏ù‡∏ô+‡∏™‡∏¥‡πà‡∏á‡∏™‡∏Å‡∏õ‡∏£‡∏Å = ‡∏ï‡∏±‡∏ß‡∏Ñ‡∏π‡∏ì‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏â‡∏ô‡∏ß‡∏ô" },
  { q:"OLTC ‡∏™‡πà‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏á/‡∏Ñ‡∏≠‡∏ô‡πÅ‡∏ó‡∏Ñ‡∏™‡∏∂‡∏Å‡∏´‡∏£‡∏≠ ‡∏Ñ‡πà‡∏≤ wear ‡πÉ‡∏Å‡∏•‡πâ‡∏•‡∏¥‡∏°‡∏¥‡∏ï‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠ ‡∏Ñ‡∏ß‡∏£‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£?",
    choices:["A) ‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏ö‡∏≥‡∏£‡∏∏‡∏á/‡πÇ‡∏≠‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏Æ‡∏≠‡∏•‡∏Å‡πà‡∏≠‡∏ô‡∏ñ‡∏∂‡∏á‡∏•‡∏¥‡∏°‡∏¥‡∏ï ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏™‡∏≥‡∏£‡∏≠‡∏á","B) ‡πÉ‡∏ä‡πâ‡∏ï‡πà‡∏≠‡∏à‡∏ô‡∏´‡∏¢‡∏∏‡∏î‡πÄ‡∏≠‡∏á","C) ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏´‡∏°‡πâ‡∏≠‡πÅ‡∏õ‡∏•‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏•‡∏π‡∏Å‡∏ó‡∏±‡∏ô‡∏ó‡∏µ","D) ‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î‡∏ï‡∏π‡πâ"],
    correct:0,
    hints:["OLTC ‡∏Ñ‡∏∑‡∏≠‡∏´‡∏±‡∏ß‡πÉ‡∏à‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡πÅ‡∏£‡∏á‡∏î‡∏±‡∏ô‚Äî‡∏û‡∏±‡∏á‡∏°‡∏µ‡∏ú‡∏•‡∏ß‡∏á‡∏Å‡∏ß‡πâ‡∏≤‡∏á","‡∏•‡∏¥‡∏°‡∏¥‡∏ï‡∏ú‡∏π‡πâ‡∏ú‡∏•‡∏¥‡∏ï = ‡∏ï‡πâ‡∏≠‡∏á action"],
    why:"‡πÇ‡∏≠‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏Æ‡∏≠‡∏•‡∏Å‡πà‡∏≠‡∏ô‡∏ñ‡∏∂‡∏á‡∏•‡∏¥‡∏°‡∏¥‡∏ï‡∏£‡∏±‡∏ô‡∏û‡∏±‡∏á ‡∏•‡∏î‡πÄ‡∏´‡∏ï‡∏∏‡∏Ç‡∏±‡∏î‡∏Ç‡πâ‡∏≠‡∏á‡πÅ‡∏•‡∏∞‡∏Ñ‡∏∏‡∏°‡πÅ‡∏£‡∏á‡∏î‡∏±‡∏ô",
    takeaway:"Condition‚Äëbased ‡∏ä‡∏ô‡∏∞‡πÅ‡∏ö‡∏ö‡∏ï‡∏≤‡∏°‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß" },
  { q:"‡∏û‡∏ö‡∏à‡∏∏‡∏î‡∏ï‡πà‡∏≠‡πÅ‡∏£‡∏á‡∏ï‡πà‡∏≥‡∏£‡πâ‡∏≠‡∏ô‡∏ú‡∏¥‡∏î‡∏õ‡∏Å‡∏ï‡∏¥‡∏à‡∏≤‡∏Å‡πÄ‡∏ó‡∏≠‡∏£‡πå‡∏°‡∏≠‡∏•‡∏™‡πÅ‡∏Å‡∏ô ‡πÅ‡∏ï‡πà‡πÇ‡∏´‡∏•‡∏î‡∏¢‡∏±‡∏á‡∏£‡∏±‡∏ö‡πÑ‡∏î‡πâ ‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£‡∏Å‡πà‡∏≠‡∏ô?",
    choices:["A) ‡∏Ñ‡∏¥‡∏ß‡∏Ç‡∏±‡∏ô/‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô lugs ‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î‡∏≠‡∏≠‡∏Å‡πÑ‡∏ã‡∏î‡πå ‡∏£‡∏∞‡∏ö‡∏≤‡∏¢‡πÇ‡∏´‡∏•‡∏î‡∏Å‡πà‡∏≠‡∏ô‡∏ó‡∏≥","B) ‡πÑ‡∏°‡πà‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£","C) ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÇ‡∏´‡∏•‡∏î","D) ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏´‡∏°‡πâ‡∏≠‡πÅ‡∏õ‡∏•‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏•‡∏π‡∏Å"],
    correct:0,
    hints:["‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡πâ‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡∏à‡∏∏‡∏î‡∏ï‡πà‡∏≠ = ‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏´‡∏•‡∏ß‡∏°/‡∏≠‡∏≠‡∏Å‡πÑ‡∏ã‡∏î‡πå ‚Üí ‡∏à‡∏∏‡∏î‡∏Å‡∏≥‡πÄ‡∏ô‡∏¥‡∏î‡∏≠‡∏≤‡∏£‡πå‡∏Å","‡πÅ‡∏Å‡πâ‡∏ó‡∏µ‡πà‡∏à‡∏∏‡∏î‡∏ï‡πà‡∏≠ + ‡∏•‡∏î‡πÇ‡∏´‡∏•‡∏î‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢"],
    why:"‡∏•‡∏î‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡πÑ‡∏ü‡πÑ‡∏´‡∏°‡πâ/‡∏î‡∏±‡∏ö‡∏ß‡∏á‡∏Å‡∏ß‡πâ‡∏≤‡∏á ‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏ô‡πÄ‡∏´‡∏ï‡∏∏",
    takeaway:"‡πÄ‡∏ó‡∏≠‡∏£‡πå‡∏°‡∏≠‡∏•‡∏™‡πÅ‡∏Å‡∏ô‡∏ä‡πà‡∏ß‡∏¢‡∏à‡∏±‡∏î‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏á‡∏≤‡∏ô‡πÄ‡∏ä‡∏¥‡∏á‡∏£‡∏∏‡∏Å" },
  { q:"‡∏´‡∏•‡∏±‡∏á‡∏ô‡πâ‡∏≥‡∏ó‡πà‡∏ß‡∏°‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ï‡∏π‡πâ RMU/‡∏´‡∏°‡πâ‡∏≠‡πÅ‡∏õ‡∏•‡∏á: ‡∏à‡∏∞‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏à‡∏≤‡∏Å‡∏≠‡∏∞‡πÑ‡∏£?",
    choices:["A) ‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢ (LOTO) ‚Üí ‡∏ï‡∏£‡∏ß‡∏à‡∏â‡∏ô‡∏ß‡∏ô/‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏∑‡πâ‡∏ô ‚Üí ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÅ‡∏´‡πâ‡∏á ‚Üí ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡πà‡∏≠‡∏ô‡∏à‡πà‡∏≤‡∏¢","B) ‡∏à‡πà‡∏≤‡∏¢‡πÑ‡∏ü‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÑ‡∏•‡πà‡∏ô‡πâ‡∏≥","C) ‡∏õ‡∏•‡πà‡∏≠‡∏¢‡πÉ‡∏´‡πâ‡πÅ‡∏´‡πâ‡∏á‡πÄ‡∏≠‡∏á","D) ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏¢‡∏ü‡∏µ‡∏î‡πÄ‡∏î‡∏≠‡∏£‡πå"],
    correct:0,
    hints:["‡∏ô‡πâ‡∏≥‡∏Å‡∏±‡∏ö‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏™‡∏π‡∏á ‚Äî ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡∏°‡∏≤‡∏Å‡πà‡∏≠‡∏ô","‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏â‡∏ô‡∏ß‡∏ô‡∏Å‡πà‡∏≠‡∏ô‡∏Ñ‡∏∑‡∏ô‡∏£‡∏∞‡∏ö‡∏ö"],
    why:"‡πÇ‡∏ü‡∏Å‡∏±‡∏™‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡∏ö‡∏∏‡∏Ñ‡∏•‡∏≤‡∏Å‡∏£/‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå ‡πÅ‡∏•‡∏∞‡∏•‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡∏¢‡∏´‡∏≤‡∏¢‡∏ã‡πâ‡∏≥‡∏ã‡πâ‡∏≠‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏†‡∏±‡∏¢‡∏û‡∏¥‡∏ö‡∏±‡∏ï‡∏¥",
    takeaway:"‡∏´‡∏•‡∏±‡∏á‡∏≠‡∏∏‡∏ó‡∏Å‡∏†‡∏±‡∏¢ = Safety First + Test ‡∏Å‡πà‡∏≠‡∏ô Energize" }
];

/* ====== ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÄ‡∏Å‡∏° ====== */
let idx=0, score=0, running=false, timer=null, tStart=0, T_LIMIT=45_000;

/* ====== ‡∏¢‡∏π‡∏ó‡∏¥‡∏• UI ====== */
const $ = s=>document.querySelector(s);
const show = id => { ["#screen-home","#screen-how","#screen-quiz","#screen-result"].forEach(sel=>$(sel).classList.add("hidden")); $(id).classList.remove("hidden"); };
const fmt = n=> n.toLocaleString('th-TH');

/* ====== ‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÅ‡∏ô‡∏ß SF‚ÄëCinema ‡∏î‡πâ‡∏ß‡∏¢ WebAudio ====== */
const AudioKit = (()=>{
  const ctx = new (window.AudioContext||window.webkitAudioContext)();
  let master = ctx.createGain(); master.gain.value=.7; master.connect(ctx.destination);

  // Pad: detuned saws -> lowpass -> slow LFO
  let padGain = ctx.createGain(); padGain.gain.value=.18; padGain.connect(master);
  let lp = ctx.createBiquadFilter(); lp.type="lowpass"; lp.frequency.value=700; lp.Q.value=0.7; lp.connect(padGain);

  const saw1 = ctx.createOscillator(); saw1.type="sawtooth"; saw1.frequency.value=196; // G3
  const saw2 = ctx.createOscillator(); saw2.type="sawtooth"; saw2.frequency.value=196*Math.pow(2,2/12); // A#
  const detune = 7; saw1.detune.value=detune; saw2.detune.value=-detune;
  saw1.connect(lp); saw2.connect(lp);

  // LFO to filter for motion
  const lfo = ctx.createOscillator(); lfo.type="sine"; lfo.frequency.value=.08;
  const lfoGain = ctx.createGain(); lfoGain.gain.value=220; // sweep depth
  lfo.connect(lfoGain).connect(lp.frequency);

  // Pulse/heartbeat clock (tempo increases with intensity)
  let pulseGain = ctx.createGain(); pulseGain.gain.value=.08; pulseGain.connect(master);
  function pulseOnce(){
    const o = ctx.createOscillator(); o.type="triangle"; o.frequency.value=90;
    const g = ctx.createGain(); g.gain.value=.0001;
    o.connect(g).connect(pulseGain);
    o.start();
    g.gain.exponentialRampToValueAtTime(.4, ctx.currentTime+.005);
    g.gain.exponentialRampToValueAtTime(.0001, ctx.currentTime+.2);
    o.stop(ctx.currentTime+.25);
  }
  let pulseTimer=null, pulseMs=850;

  function startBG(){
    if(saw1.started) return;
    resume();
    saw1.start(); saw2.start(); lfo.start();
    // schedule pulse loop
    if(!pulseTimer){
      const loop=()=>{ pulseOnce(); pulseTimer=setTimeout(loop, pulseMs); };
      loop();
    }
  }
  function stopBG(){
    try{ saw1.stop(); }catch{} try{ saw2.stop(); }catch{} try{ lfo.stop(); }catch{}
    clearTimeout(pulseTimer); pulseTimer=null;
  }
  function resume(){ if (ctx.state==="suspended") ctx.resume(); }

  // SFX
  function chimeOk(){
    resume();
    const freqs=[660,990,1320];
    freqs.forEach((f,i)=>{
      const o=ctx.createOscillator(), g=ctx.createGain();
      o.type="sine"; o.frequency.value=f;
      g.gain.setValueAtTime(.0001, ctx.currentTime);
      g.gain.exponentialRampToValueAtTime(.35, ctx.currentTime+.02+i*.02);
      g.gain.exponentialRampToValueAtTime(.0001, ctx.currentTime+.45+i*.02);
      o.connect(g).connect(master); o.start(); o.stop(ctx.currentTime+.6+i*.02);
    });
  }
  function buzzWrong(){
    resume();
    const o=ctx.createOscillator(), g=ctx.createGain();
    o.type="square"; o.frequency.value=140;
    g.gain.value=.22; o.connect(g).connect(master);
    o.start(); o.stop(ctx.currentTime+.18);
  }

  function setMute(m){ master.gain.value = m? 0 : .7; }

  // Intensity: 0 (‡∏™‡∏ö‡∏≤‡∏¢) ‚Üí 1 (‡πÄ‡∏£‡πà‡∏á‡∏î‡πà‡∏ß‡∏ô) : ‡πÄ‡∏û‡∏¥‡πà‡∏° cutoff, ‡πÄ‡∏û‡∏¥‡πà‡∏° pulse rate/volume
  function setIntensity(x){
    const i = Math.max(0, Math.min(1, x));
    lp.frequency.setTargetAtTime(500 + i*1500, ctx.currentTime, .05);
    lfo.frequency.setTargetAtTime(.08 + i*.25, ctx.currentTime, .05);
    pulseMs = 850 - Math.floor(i*600);         // ‡∏à‡∏≤‡∏Å‡∏ä‡πâ‡∏≤ ‚Üí ‡πÄ‡∏£‡πá‡∏ß
    pulseGain.gain.setTargetAtTime(.06 + i*.08, ctx.currentTime, .05);
  }

  // mark started
  saw1.started=false; const _start=saw1.start.bind(saw1);
  saw1.start=()=>{ _start(); saw1.started=true; };

  return {startBG,stopBG,setMute,chimeOk,buzzWrong,setIntensity,resume};
})();

/* ====== ‡∏Ñ‡∏≠‡∏ô‡πÄ‡∏ü‡πá‡∏ï‡∏ï‡∏¥ ====== */
const FX = (()=>{
  const c = document.getElementById("fx"); const ctx = c.getContext("2d");
  function resize(){ c.width = innerWidth; c.height=innerHeight; }
  addEventListener("resize", resize); resize();
  let parts=[];
  function boom(x=innerWidth/2,y=innerHeight/3, n=40){
    for(let i=0;i<n;i++){
      parts.push({x,y, r: Math.random()*3+2, vx:(Math.random()-0.5)*6, vy:(Math.random()-1.4)*8, a:1});
    }
  }
  function loop(){
    ctx.clearRect(0,0,c.width,c.height);
    parts.forEach(p=>{ p.x+=p.vx; p.y+=p.vy; p.vy+=0.15; p.a-=0.01; });
    parts = parts.filter(p=>p.a>0);
    parts.forEach(p=>{
      ctx.globalAlpha = Math.max(0,p.a);
      ctx.beginPath(); ctx.arc(p.x,p.y,p.r,0,Math.PI*2);
      ctx.fillStyle = `hsl(${(p.x+p.y)%360} 90% 60%)`;
      ctx.fill();
    });
    requestAnimationFrame(loop);
  }
  loop();
  return {boom};
})();

/* ====== ‡πÄ‡∏Å‡∏°‡πÄ‡∏û‡∏•‡∏¢‡πå ====== */
let TICK=null;
function startGame(){
  idx=0; score=0;
  shuffle(QUESTIONS);
  show("#screen-quiz");
  nextQuestion();
  AudioKit.startBG();
}
function nextQuestion(){
  running=false; clearInterval(timer); $("#explain").classList.add("hidden"); $("#explain").innerHTML="";
  const q = QUESTIONS[idx];
  $("#qno").textContent = `‡∏Ç‡πâ‡∏≠‡∏ó‡∏µ‡πà ${idx+1}/${QUESTIONS.length}`;
  $("#qtext").textContent = q.q;
  const box = $("#choices"); box.innerHTML="";
  q.choices.forEach((txt,i)=>{
    const btn = document.createElement("button");
    btn.className="choice";
    btn.innerHTML = `<span class="letter">${"ABCD"[i]}</span> <span>${txt.replace(/^[A-D]\)\s*/,'')}</span>`;
    btn.onclick = ()=> pick(i);
    box.appendChild(btn);
  });
  // timer
  tStart = performance.now();
  running = true; updateBar(1);
  timer = setInterval(()=>{
    const t = performance.now() - tStart;
    const left = Math.max(0, T_LIMIT - t);
    const ratio = left / T_LIMIT;
    updateBar(ratio);
    // ‡∏î‡∏ô‡∏ï‡∏£‡∏µ: ‡πÄ‡∏£‡πà‡∏á‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏ß‡∏•‡∏≤‡∏ô‡πâ‡∏≠‡∏¢
    AudioKit.setIntensity(ratio<.22 ? (1 - (ratio/.22)*.7) + .7 : (1-ratio)*.7);
    if(left<=0){ timeUp(); }
  }, 100);
}
function updateBar(r){
  $("#bar").style.width = (r*100)+"%";
  $("#bar").style.background = r<.25? `linear-gradient(90deg,var(--bad),#ff99a5)` : r<.55? `linear-gradient(90deg,var(--warn),#ffe69a)` : `linear-gradient(90deg,var(--ok),#6ee7ff)`;
}

function pick(i){
  if(!running) return;
  running=false; clearInterval(timer);
  const q = QUESTIONS[idx];
  const choices = [...document.querySelectorAll(".choice")];
  choices.forEach((c,ii)=>{
    c.disabled=true;
    if(ii===q.correct) c.classList.add("correct");
    if(ii===i && i!==q.correct) c.classList.add("wrong");
  });
  const elapsed = Math.min(T_LIMIT, performance.now()-tStart);
  const remain = T_LIMIT - elapsed;
  const got = (i===q.correct) ? Math.max(0, Math.round(1000 * (remain/T_LIMIT))) : 0;
  score += got; $("#score").textContent = fmt(score);
  showExplain(i===q.correct, got);
  if(i===q.correct){ AudioKit.chimeOk(); if(got>700) FX.boom(); }
  else AudioKit.buzzWrong();
}
function timeUp(){
  running=false; clearInterval(timer);
  const q = QUESTIONS[idx];
  const choices = [...document.querySelectorAll(".choice")];
  choices.forEach((c,ii)=>{ c.disabled=true; if(ii===q.correct) c.classList.add("correct"); });
  showExplain(false, 0, true);
  AudioKit.buzzWrong();
}

function showExplain(correct, got, timeout=false){
  const q = QUESTIONS[idx];
  const el = $("#explain");
  const head = correct ? `‚úÖ ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á! +${fmt(got)} ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô` : (timeout? "‚åõ ‡∏´‡∏°‡∏î‡πÄ‡∏ß‡∏•‡∏≤!": "‚ùå ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà");
  el.innerHTML = `
    <div><b>${head}</b></div>
    <div class="soc">‡∏ñ‡∏≤‡∏°‡∏Å‡∏•‡∏±‡∏ö‡πÅ‡∏ö‡∏ö‡∏ä‡∏ß‡∏ô‡∏Ñ‡∏¥‡∏î:</div>
    <ul style="margin:6px 0 8px; padding-left:18px">
      <li>‡∏ñ‡πâ‡∏≤‡∏õ‡∏•‡πà‡∏≠‡∏¢‡πÑ‡∏ß‡πâ ‡∏à‡∏∞‡∏Å‡∏£‡∏∞‡∏ó‡∏ö <b>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢/‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á</b> ‡πÑ‡∏´‡∏°?</li>
      <li>‡πÅ‡∏≠‡πá‡∏Å‡∏ä‡∏±‡∏ô‡πÑ‡∏´‡∏ô <b>‡∏•‡∏î‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥/‡∏•‡∏î‡∏≠‡∏≤‡∏£‡πå‡∏Å/‡∏Ñ‡∏∏‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á</b> ‡πÑ‡∏î‡πâ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ?</li>
    </ul>
    <div><b>‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•:</b> ${q.why}</div>
    <div><b>Key Takeaway:</b> ${q.takeaway}</div>
    <div class="tools" style="margin-top:10px">
      <button class="btn primary" id="btn-next">${idx<QUESTIONS.length-1 ? "‡∏Ç‡πâ‡∏≠‡∏ï‡πà‡∏≠‡πÑ‡∏õ ‚ûú" : "‡∏î‡∏π‡∏™‡∏£‡∏∏‡∏õ ‚ûú"}</button>
    </div>
  `;
  el.classList.remove("hidden");
  $("#btn-next").onclick = ()=>{
    idx++;
    if(idx<QUESTIONS.length) nextQuestion();
    else endGame();
  };
}

function endGame(){
  show("#screen-result");
  $("#finalScore").textContent = fmt(score);
  const best = Number(localStorage.getItem("mea_best")||0);
  const plays = Number(localStorage.getItem("mea_plays")||0)+1;
  localStorage.setItem("mea_plays", String(plays));
  if(score>best){ localStorage.setItem("mea_best", String(score)); }
  $("#best2").textContent = fmt(Math.max(best,score));
  $("#plays").textContent = fmt(plays);
  $("#summary").innerHTML = score>=7000
    ? "‡∏™‡∏∏‡∏î‡∏à‡∏±‡∏î! ‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏á‡∏≤‡∏ô‡∏ã‡πà‡∏≠‡∏°‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡πÑ‡∏î‡πâ‡∏Ñ‡∏°‡∏°‡∏≤‡∏Å üë∑‚Äç‚ôÄÔ∏è‚ö°"
    : score>=4000 ? "‡∏î‡∏µ‡πÄ‡∏•‡∏¢! ‡∏à‡∏±‡∏ö‡∏´‡∏•‡∏±‡∏Å‡πÑ‡∏î‡πâ ‡∏•‡∏≠‡∏á‡∏≠‡∏µ‡∏Å‡∏ó‡∏µ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏ô‡πâ‡∏ô‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•‡πÉ‡∏´‡πâ‡∏Ñ‡∏°‡∏Ç‡∏∂‡πâ‡∏ô üí™"
    : "‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏î‡∏µ ‡∏•‡∏≠‡∏á‡∏™‡∏±‡∏á‡πÄ‡∏Å‡∏ï Hint ‡πÅ‡∏•‡∏∞ Key Takeaway ‡πÉ‡∏´‡πâ‡∏°‡∏≤‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô ‡πÅ‡∏•‡πâ‡∏ß‡πÑ‡∏õ‡∏≠‡∏µ‡∏Å‡∏£‡∏≠‡∏ö! üöÄ";
  const badge = $("#badge"); badge.innerHTML="";
  if(score>=6000){
    const stars = Math.min(5, Math.floor(score/2000));
    const svg = `
      <svg width="220" height="220" viewBox="0 0 220 220">
        <defs><linearGradient id="g1" x1="0" x2="1"><stop offset="0" stop-color="#ffd166"/><stop offset="1" stop-color="#ffe9a3"/></linearGradient></defs>
        <circle cx="110" cy="110" r="100" fill="url(#g1)" stroke="#f4c430" stroke-width="6"/>
        <text x="110" y="86" text-anchor="middle" font-size="18" font-weight="800" fill="#7a5300">MEA‚ÄëSPU</text>
        <text x="110" y="112" text-anchor="middle" font-size="14" font-weight="700" fill="#7a5300">‡∏ã‡πà‡∏≠‡∏°‡∏Å‡πà‡∏≠‡∏ô‡∏û‡∏±‡∏á</text>
        ${Array.from({length:stars}).map((_,i)=>`<polygon transform="translate(${60+i*20},140) scale(1.2)" points="10,1 12,7 18,7 13,11 15,17 10,13 5,17 7,11 2,7 8,7" fill="#7a5300"/>`).join("")}
        <text x="110" y="188" text-anchor="middle" font-size="16" font-weight="900" fill="#7a5300">${fmt(score)} pts</text>
      </svg>`;
    badge.innerHTML = svg;
    FX.boom(innerWidth/2, innerHeight/2, 80);
  }
  AudioKit.stopBG();
}

/* ====== Hint / Reveal ====== */
$("#btn-hint1").onclick = ()=> {
  const q=QUESTIONS[idx];
  sayHint(q.hints?.[0] || "‡πÇ‡∏ü‡∏Å‡∏±‡∏™‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏™‡∏°‡∏≠");
};
$("#btn-hint2").onclick = ()=> {
  const q=QUESTIONS[idx];
  sayHint(q.hints?.[1] || "‡∏≠‡∏∞‡πÑ‡∏£‡∏ó‡∏µ‡πà‡∏•‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡πâ‡∏≠‡∏ô/‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏≠‡∏≤‡∏£‡πå‡∏Å‡πÑ‡∏î‡πâ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ ‡∏°‡∏±‡∏Å‡∏°‡∏≤‡∏Å‡πà‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏ã‡πà‡∏≠‡∏°‡∏ñ‡∏≤‡∏ß‡∏£");
};
$("#btn-reveal").onclick = ()=>{
  const el = $("#explain");
  if(running){
    // ‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏´‡πâ‡∏≤‡∏°‡πÅ‡∏≠‡∏ö‡∏î‡∏π‡πÄ‡∏â‡∏•‡∏¢‡∏Å‡πà‡∏≠‡∏ô‡∏ï‡∏≠‡∏ö
    el.classList.remove("hidden");
    el.innerHTML = `
      <div>‚ùó ‡∏ó‡∏≥‡πÑ‡∏°‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡πÅ‡∏≠‡∏ö‡∏î‡∏π‡πÄ‡∏â‡∏•‡∏¢‡∏Å‡πà‡∏≠‡∏ô‡∏ï‡∏≠‡∏ö!</div>
      <div class="footnote">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ï‡∏≠‡∏ö‡∏Å‡πà‡∏≠‡∏ô‡∏î‡∏π‡πÄ‡∏â‡∏•‡∏¢ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á</div>
    `;
    return;
  }
  // ‡∏´‡∏•‡∏±‡∏á‡∏ï‡∏≠‡∏ö/‡∏´‡∏°‡∏î‡πÄ‡∏ß‡∏•‡∏≤: ‡πÄ‡∏ô‡πâ‡∏ô‡πÉ‡∏´‡πâ‡πÄ‡∏´‡πá‡∏ô‡πÄ‡∏â‡∏•‡∏¢ (‡∏õ‡∏∏‡πà‡∏°‡∏ô‡∏µ‡πâ‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÅ‡∏™‡∏î‡∏á)
  el.classList.remove("hidden");
  if(!el.innerHTML) el.textContent = "‡πÄ‡∏â‡∏•‡∏¢‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏´‡∏•‡∏±‡∏á‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏ï‡∏≠‡∏ö‡∏´‡∏£‡∏∑‡∏≠‡∏´‡∏°‡∏î‡πÄ‡∏ß‡∏•‡∏≤‡πÅ‡∏•‡πâ‡∏ß";
};

function sayHint(msg){
  const el = $("#explain");
  if(el.classList.contains("hidden")){
    el.classList.remove("hidden");
    el.innerHTML = `<div class="soc">Hint:</div><div>${msg}</div>`;
  }else{
    el.innerHTML += `<div>${msg}</div>`;
  }
}

/* ====== ‡∏™‡∏∏‡πà‡∏°‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏° ====== */
function shuffle(a){ for(let i=a.length-1;i>0;i--){ const j=Math.floor(Math.random()*(i+1)); [a[i],a[j]]=[a[j],a[i]]; } }

/* ====== ‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏õ‡∏∏‡πà‡∏°/‡∏à‡∏≠ ====== */
$("#btn-start").onclick = ()=>{ startGame(); };
$("#btn-start2").onclick = ()=>{ startGame(); };
$("#btn-how").onclick = ()=>{ show("#screen-how"); AudioKit.resume(); };
$("#btn-back").onclick = ()=>{ show("#screen-home"); };
$("#btn-retry").onclick = ()=>{ startGame(); };
$("#btn-home").onclick = ()=>{ show("#screen-home"); };
$("#btn-skip").onclick = ()=>{ timeUp(); };

$("#mute").onchange = e=> AudioKit.setMute(e.target.checked);
$("#mute2").onchange = e=> { $("#mute").checked = e.target.checked; AudioKit.setMute(e.target.checked); };

/* ====== ‡πÇ‡∏´‡∏•‡∏î‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡πÄ‡∏î‡∏¥‡∏° + ‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏™‡∏±‡πâ‡∏ô ‡πÜ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡∏•‡∏∏‡∏Å iOS ====== */
(function init(){
  $("#best").textContent = fmt(Number(localStorage.getItem("mea_best")||0));
  show("#screen-home");
  document.body.addEventListener("click", ()=>AudioKit.resume(), {once:true});
})();
</script>
</body>
</html>
