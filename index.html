<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
<title>SPU ‚Ä¢ ‡∏û‡∏•‡∏¥‡∏Å‡πÇ‡∏â‡∏°‡∏á‡∏≤‡∏ô‡∏ß‡∏¥‡∏®‡∏ß‡∏Å‡∏£‡∏£‡∏°‡∏î‡πâ‡∏ß‡∏¢ AI ‡∏ã‡πà‡∏≠‡∏°‡∏Å‡πà‡∏≠‡∏ô‡∏û‡∏±‡∏á ‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏Å‡πà‡∏≠‡∏ô‡∏ß‡∏¥‡∏Å‡∏§‡∏ï‡∏¥</title>
<meta name="theme-color" content="#6C2CF1" />
<style>
  @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+Thai:wght@400;600;800&family=Chakra+Petch:wght@600;700&display=swap');

  :root{
    --bg1:#0f1020; --bg2:#1b0f3b; --acc:#7c3aed; --acc2:#22d3ee; --ok:#10b981; --bad:#ef4444;
    --text:#f8fafc; --muted:#cbd5e1; --card:#17172b; --btn:#2a2a4a; --shadow:0 10px 30px rgba(0,0,0,.35);
  }
  html,body{height:100%;}
  body{
    margin:0; color:var(--text); background: radial-gradient(1200px 600px at 20% 0%, var(--bg2), var(--bg1)),
               radial-gradient(1000px 600px at 80% 100%, #0a0a1a, #0b0b16);
    font-family:'Noto Sans Thai', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    overflow-x:hidden;
  }
  .glow{ text-shadow:0 0 18px rgba(124,58,237,.7), 0 0 4px rgba(255,255,255,.3);}
  header{
    padding:18px 16px 8px; text-align:center; position:sticky; top:0; z-index:4;
    background:linear-gradient(180deg, rgba(15,16,32,.95), rgba(15,16,32,.55), rgba(15,16,32,0));
    backdrop-filter: blur(6px);
  }
  .brand{ display:flex; align-items:center; justify-content:center; gap:10px; flex-wrap:wrap; }
  .logo{
    width:44px; height:44px; border-radius:12px; background:
      conic-gradient(from 0deg, var(--acc), var(--acc2), var(--acc), var(--acc2));
    box-shadow:0 0 20px rgba(124,58,237,.5), inset 0 0 12px rgba(255,255,255,.2);
  }
  h1{
    font-family:'Chakra Petch', 'Noto Sans Thai', sans-serif;
    margin:0; font-size: clamp(18px, 4.6vw, 34px); letter-spacing:.3px; line-height:1.15;
  }
  .subtitle{ font-size: clamp(13px, 3.6vw, 18px); color: var(--muted); }
  .credit{ font-size: clamp(12px, 3.2vw, 16px); margin-top:6px; color:#94a3b8; }

  .container{max-width:920px; margin:0 auto; padding:16px;}
  .card{
    background:linear-gradient(180deg, rgba(124,58,237,.08), rgba(34,211,238,.05)) , var(--card);
    border:1px solid rgba(124,58,237,.25);
    border-radius:18px; padding:14px; box-shadow:var(--shadow);
  }
  .hero{ display:grid; gap:12px; align-items:center; grid-template-columns:1fr; }
  .hero .big{ font-size: clamp(18px, 5vw, 28px); font-weight:800; line-height:1.2; }
  .controls{ display:flex; gap:10px; flex-wrap:wrap; align-items:center; }
  .pill{ padding:6px 10px; border-radius:999px; border:1px solid rgba(255,255,255,.16); }
  .muted{ color:var(--muted); }
  button{
    all:unset; background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
    border:1px solid rgba(255,255,255,.16); padding:12px 14px; border-radius:12px; cursor:pointer;
    color:var(--text); font-weight:700; box-shadow: var(--shadow); font-size: clamp(15px, 4vw, 18px);
    transition:transform .08s ease, box-shadow .2s ease, background .2s ease;
  }
  button:hover{ transform:translateY(-1px); }
  button:active{ transform:translateY(1px) scale(.98); }
  .primary{ background: linear-gradient(180deg, #7c3aed, #5b21b6); border-color:#8b5cf6; }
  .ghost{ background:transparent; }
  .danger{ background: linear-gradient(180deg, #ef4444, #b91c1c); border-color:#f87171; }

  .hud{
    display:grid; grid-template-columns:1fr 1fr 1fr; gap:10px; margin-top:12px;
    font-size: clamp(13px, 3.6vw, 18px);
  }
  .meter{
    background:#0e0f1f; border:1px solid rgba(255,255,255,.14); border-radius:12px; overflow:hidden;
    height:28px; position:relative;
  }
  .meter span{ position:absolute; inset:0; display:flex; align-items:center; justify-content:center; }
  .bar{ height:100%; width:100%; background: linear-gradient(90deg, var(--acc), var(--acc2)); transform-origin:left; }

  .question{ margin-top:14px; font-size: clamp(18px, 5vw, 24px); font-weight:800; line-height:1.3; }
  .choices{ display:grid; gap:10px; margin-top:12px; }
  .choice{
    display:flex; gap:10px; align-items:flex-start; padding:12px; border-radius:14px; background:var(--btn);
    border:1px solid rgba(255,255,255,.14); cursor:pointer; font-size: clamp(15px, 4vw, 18px);
  }
  .choice.correct{ outline:2px solid var(--ok); background: linear-gradient(180deg, rgba(16,185,129,.2), rgba(16,185,129,.08));}
  .choice.wrong{ outline:2px solid var(--bad); background: linear-gradient(180deg, rgba(239,68,68,.25), rgba(239,68,68,.08));}
  .choice:active{ transform:scale(.99); }
  .explain{
    margin-top:10px; padding:12px; border-radius:12px; background:#0f172a; border:1px solid rgba(255,255,255,.12);
    font-size: clamp(14px, 3.6vw, 17px);
  }
  .row{ display:flex; gap:10px; align-items:center; flex-wrap:wrap; justify-content:space-between; }
  .scoreBig{ font-size: clamp(22px, 7vw, 40px); font-weight:800; letter-spacing: .5px; }
  .streak{ color:#fbbf24; font-weight:800; }
  .footer{ text-align:center; color:#94a3b8; font-size: clamp(12px, 3vw, 14px); padding:12px 6px 28px; }

  #confetti{ position:fixed; inset:0; pointer-events:none; z-index:5; }

  .lb{ margin-top:14px; }
  table{ width:100%; border-collapse:separate; border-spacing:0 8px; font-size: clamp(13px, 3.4vw, 16px); }
  th,td{ padding:8px 10px; background:#11142a; border:1px solid rgba(255,255,255,.12); }
  th{ background:#161a39; text-align:left; }
  tr td:first-child, tr th:first-child{ border-top-left-radius:10px; border-bottom-left-radius:10px; }
  tr td:last-child, tr th:last-child{ border-top-right-radius:10px; border-bottom-right-radius:10px; }

  details summary { cursor:pointer; user-select:none; }
  .ans-card{ background:#0f1228; border:1px solid rgba(255,255,255,.12); border-radius:12px; padding:10px; margin:8px 0; }

  @media (min-width: 760px){ .hero{ grid-template-columns:1.1fr .9fr; } }
</style>
</head>
<body>
<canvas id="confetti"></canvas>

<header>
  <div class="brand">
    <div class="logo" aria-hidden="true"></div>
    <div>
      <h1 class="glow">SPU ‚Ä¢ ‡∏û‡∏•‡∏¥‡∏Å‡πÇ‡∏â‡∏°‡∏á‡∏≤‡∏ô‡∏ß‡∏¥‡∏®‡∏ß‡∏Å‡∏£‡∏£‡∏°‡∏î‡πâ‡∏ß‡∏¢ AI</h1>
      <div class="subtitle">‡∏ã‡πà‡∏≠‡∏°‡∏Å‡πà‡∏≠‡∏ô‡∏û‡∏±‡∏á ‚Ä¢ ‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏Å‡πà‡∏≠‡∏ô‡∏ß‡∏¥‡∏Å‡∏§‡∏ï‡∏¥ ‚Äî Showcase: Sripatum University (SPU)</div>
      <div class="credit">‡∏û‡∏±‡∏í‡∏ô‡∏≤‡πÇ‡∏î‡∏¢ ‡∏ú‡∏®.‡∏î‡∏£.‡∏†‡∏£‡∏ä‡∏±‡∏¢ ‡∏à‡∏π‡∏≠‡∏ô‡∏∏‡∏ß‡∏±‡∏í‡∏ô‡∏Å‡∏∏‡∏•</div>
    </div>
  </div>
</header>

<div class="container">

  <section class="card hero">
    <div>
      <div class="big">‡πÄ‡∏Å‡∏°‡∏ß‡∏±‡∏î‡πÑ‡∏´‡∏ß‡∏û‡∏£‡∏¥‡∏ö üîß‚ö° ‚Äú‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ã‡πà‡∏≠‡∏°‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏´‡∏°‡πâ‡∏≠‡πÅ‡∏õ‡∏•‡∏á‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏≥‡∏´‡∏ô‡πà‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡∏ô‡∏Ñ‡∏£‡∏´‡∏•‡∏ß‡∏á (MEA)‚Äù</div>
      <div class="muted" style="margin-top:6px">
        ‡∏ï‡∏≠‡∏ö‡πÉ‡∏´‡πâ‡πÑ‡∏ß‡∏†‡∏≤‡∏¢‡πÉ‡∏ô 45 ‡∏ß‡∏¥ ‚è±Ô∏è | ‡∏ñ‡∏π‡∏Å + ‡πÄ‡∏£‡πá‡∏ß = ‡πÑ‡∏î‡πâ‡πÅ‡∏ï‡πâ‡∏° ~1,000 | ‡∏ñ‡∏≤‡∏°‡∏Å‡∏•‡∏±‡∏ö: ‚Äú‡∏ó‡∏≥‡πÑ‡∏°?‚Äù ‚Äú‡∏ñ‡πâ‡∏≤‚Ä¶‡∏à‡∏∞‡πÄ‡∏Å‡∏¥‡∏î‡∏≠‡∏∞‡πÑ‡∏£‡∏Ç‡∏∂‡πâ‡∏ô?‚Äù
      </div>
      <div class="controls" style="margin-top:10px">
        <button class="primary" id="btnStart">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏•‡∏¢ üöÄ</button>
        <button id="btnMusic">üéº ‡πÄ‡∏û‡∏•‡∏á‡∏ö‡∏£‡∏£‡∏¢‡∏≤‡∏Å‡∏≤‡∏®: ‡∏õ‡∏¥‡∏î</button>
        <button id="btnSfx">üîà ‡πÄ‡∏≠‡∏ü‡πÄ‡∏ü‡∏Å‡∏ï‡πå: ‡πÄ‡∏õ‡∏¥‡∏î</button>
        <button id="btnHow">‡∏ß‡∏¥‡∏ò‡∏µ‡πÄ‡∏•‡πà‡∏ô / ‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô ‚ùì</button>
      </div>
    </div>
    <div class="card" style="background:#10122a; border-color:#334155">
      <div class="row">
        <span class="pill">SPU x MEA x AI</span>
        <span class="pill">‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏ô‡∏¥‡∏™‡∏¥‡∏ï/‡∏ß‡∏¥‡∏®‡∏ß‡∏Å‡∏£/‡∏ä‡πà‡∏≤‡∏á‡πÑ‡∏ü‡∏ü‡πâ‡∏≤</span>
        <span class="pill">‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠‡∏Å‡πá‡∏•‡∏∑‡πà‡∏ô üëå</span>
      </div>
      <div class="muted" style="margin-top:8px">
        ‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á‡∏´‡∏•‡∏±‡∏Å‡∏Å‡∏≤‡∏£‡∏à‡∏≤‡∏Å‡πÅ‡∏ô‡∏ß‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥ MEA ‡πÅ‡∏•‡∏∞‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô IEC/IEEE (‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ)
      </div>
    </div>
  </section>

  <section id="game" class="card" style="margin-top:14px; display:none">
    <div class="hud">
      <div class="meter">
        <div id="timeBar" class="bar"></div>
        <span>‡πÄ‡∏ß‡∏•‡∏≤: <b id="timeTxt">45</b>s</span>
      </div>
      <div class="meter">
        <div id="scoreBar" class="bar" style="background:linear-gradient(90deg,#10b981,#22d3ee);"></div>
        <span>‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏£‡∏ß‡∏°: <b id="scoreTxt">0</b></span>
      </div>
      <div class="meter">
        <div id="streakBar" class="bar" style="background:linear-gradient(90deg,#f59e0b,#fde047);"></div>
        <span>‡∏™‡∏ï‡∏£‡∏µ‡∏Ñ: <b id="streakTxt">0</b></span>
      </div>
    </div>

    <div class="row" style="margin-top:10px">
      <div class="pill">‡∏Ç‡πâ‡∏≠‡∏ó‡∏µ‡πà <b id="qNum">1</b>/<span id="qTotal">10</span></div>
      <div class="pill">‡πÇ‡∏´‡∏°‡∏î‡∏ñ‡∏≤‡∏°‡∏Å‡∏•‡∏±‡∏ö ‚Ä¢ ‡∏°‡∏µ Hint 2 ‡∏£‡∏∞‡∏î‡∏±‡∏ö üß†</div>
    </div>

    <div id="qText" class="question">‚Äî</div>
    <div id="choices" class="choices"></div>

    <div class="row" style="margin-top:10px">
      <button id="hint1">‡∏Ç‡∏≠‡∏Ñ‡∏≥‡πÉ‡∏ö‡πâ 1 ü™Ñ (-150)</button>
      <button id="hint2">‡∏Ç‡∏≠‡∏Ñ‡∏≥‡πÉ‡∏ö‡πâ 2 üß© (-150)</button>
      <button class="ghost" id="why">‡∏ñ‡∏≤‡∏°‡∏Å‡∏•‡∏±‡∏ö: ‡∏ó‡∏≥‡πÑ‡∏°?</button>
    </div>

    <div id="explain" class="explain" style="display:none"></div>

    <div class="row" style="margin-top:10px">
      <div class="muted">‡∏ï‡∏≠‡∏ö‡∏ñ‡∏π‡∏Å‡πÄ‡∏£‡πá‡∏ß = ‡πÑ‡∏î‡πâ‡πÅ‡∏ï‡πâ‡∏°‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î ~1,000 ‡∏ï‡πà‡∏≠‡∏Ç‡πâ‡∏≠</div>
      <button id="reveal" class="ghost" style="display:none">‡πÄ‡∏â‡∏•‡∏¢ (‡∏´‡∏•‡∏±‡∏á‡∏ï‡∏≠‡∏ö)</button>
      <button id="next" class="primary" style="display:none">‡∏Ç‡πâ‡∏≠‡∏ñ‡∏±‡∏î‡πÑ‡∏õ ‚û°Ô∏è</button>
    </div>
  </section>

  <section id="summary" class="card" style="margin-top:14px; display:none">
    <div class="scoreBig glow">‡∏™‡∏£‡∏∏‡∏õ‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à üéØ ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ: <span id="finalScore">0</span></div>
    <div class="muted" style="margin-top:6px">‡πÅ‡∏ô‡∏ß‡∏Ñ‡∏¥‡∏î: ‡∏ã‡πà‡∏≠‡∏°‡∏Å‡πà‡∏≠‡∏ô‡∏û‡∏±‡∏á ‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏Å‡πà‡∏≠‡∏ô‡∏ß‡∏¥‡∏Å‡∏§‡∏ï‡∏¥ ‚Ä¢ ‡πÉ‡∏ä‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏£‡∏¥‡∏á ‚Ä¢ ‡∏à‡∏±‡∏î‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏ï‡∏≤‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á</div>

    <details style="margin-top:10px">
      <summary><b>üìò ‡πÄ‡∏â‡∏•‡∏¢‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (‡∏î‡∏π‡∏´‡∏•‡∏±‡∏á‡πÄ‡∏•‡πà‡∏ô‡∏à‡∏ö)</b></summary>
      <div id="allAnswers" style="margin-top:8px"></div>
    </details>

    <div class="lb" style="margin-top:12px">
      <div class="row">
        <div class="big" style="font-weight:800">üèÜ ‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏ô‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö (‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏ô‡∏µ‡πâ)</div>
        <div class="controls">
          <input id="nameInput" placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏•‡∏á‡∏ö‡∏≠‡∏£‡πå‡∏î" style="all:unset;padding:10px 12px;border:1px solid rgba(255,255,255,.2);border-radius:10px;background:#0f1228; font-size:16px; width:180px"/>
          <button id="saveScore" class="primary">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</button>
          <button id="playAgain">‡πÄ‡∏•‡πà‡∏ô‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á üîÅ</button>
        </div>
      </div>
      <div class="muted" style="margin-top:6px">‡πÄ‡∏Å‡πá‡∏ö‡πÉ‡∏ô‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô (LocalStorage)</div>
      <table id="lbTable" style="margin-top:8px">
        <thead><tr><th>#</th><th>‡∏ä‡∏∑‡πà‡∏≠</th><th>‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</th><th>‡∏™‡∏ï‡∏£‡∏µ‡∏Ñ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î</th><th>‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢/‡∏Ç‡πâ‡∏≠</th></tr></thead>
        <tbody></tbody>
      </table>
    </div>
  </section>

  <div class="footer">
    ¬© SPU ‚Ä¢ Educational mini‚Äëgame (MEA context). ‡πÄ‡∏û‡∏•‡∏á/‡πÄ‡∏≠‡∏ü‡πÄ‡∏ü‡∏Å‡∏ï‡πå‡πÄ‡∏õ‡∏¥‡∏î‚Äë‡∏õ‡∏¥‡∏î‡πÑ‡∏î‡πâ‡∏ó‡∏µ‡πà‡∏õ‡∏∏‡πà‡∏°‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô
  </div>
</div>

<script>
/* ========= Quiz Bank ========= */
const BANK = [
  {
    q: "‡∏´‡∏°‡πâ‡∏≠‡πÅ‡∏õ‡∏•‡∏á 1000 kVA ‡πÇ‡∏´‡∏•‡∏î‡∏û‡∏∏‡πà‡∏á 125% ‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á 2 ‡∏ä‡∏°. ‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡∏™‡∏π‡∏á‡πÄ‡∏Å‡∏¥‡∏ô‡∏Ñ‡πà‡∏≤‡∏û‡∏¥‡∏Å‡∏±‡∏î IEC/IEEE ‡πÅ‡∏•‡∏∞‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏°‡∏µ‡∏Å‡∏•‡∏¥‡πà‡∏ô‡πÑ‡∏´‡∏°‡πâ‡∏à‡∏≤‡∏Å‡∏ù‡∏≤‡∏Ñ‡∏£‡∏≠‡∏ö ‚Äî ‡∏Ñ‡∏ß‡∏£‡∏à‡∏±‡∏î‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ã‡πà‡∏≠‡∏°‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£?",
    choices: [
      "‡πÄ‡∏ù‡πâ‡∏≤‡∏£‡∏∞‡∏ß‡∏±‡∏á‡∏ï‡πà‡∏≠‡πÑ‡∏õ ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏¢‡∏±‡∏á‡∏à‡πà‡∏≤‡∏¢‡πÑ‡∏ü‡πÑ‡∏î‡πâ",
      "‡∏•‡∏î‡πÇ‡∏´‡∏•‡∏î/‡∏™‡∏•‡∏±‡∏ö‡πÄ‡∏ü‡∏™‡∏ó‡∏±‡∏ô‡∏ó‡∏µ ‡πÅ‡∏•‡∏∞‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏†‡∏≤‡∏û‡πÄ‡∏ä‡∏¥‡∏á‡∏•‡∏∂‡∏Å‡∏†‡∏≤‡∏¢‡πÉ‡∏ô 24 ‡∏ä‡∏°.",
      "‡∏£‡∏≠‡∏£‡∏≠‡∏ö PM ‡∏ñ‡∏±‡∏î‡πÑ‡∏õ (3 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô)",
      "‡∏•‡πâ‡∏≤‡∏á‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î‡∏î‡πâ‡∏≤‡∏ô‡∏ô‡∏≠‡∏Å‡∏Å‡πà‡∏≠‡∏ô ‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡πà‡∏≠‡∏¢‡∏Ñ‡∏¥‡∏î‡∏ï‡πà‡∏≠"
    ],
    correct: 1,
    hints: [
      "‡∏Ñ‡∏¥‡∏î‡πÅ‡∏ö‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á: ‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥‡∏™‡∏π‡∏á + ‡∏Å‡∏•‡∏¥‡πà‡∏ô‡πÑ‡∏´‡∏°‡πâ = ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏ï‡πà‡∏≠‡∏â‡∏ô‡∏ß‡∏ô‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏©",
      "‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏Å‡∏¥‡∏ô‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á ‚â† transient; ‡πÉ‡∏´‡πâ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡πÅ‡∏´‡∏•‡πà‡∏á‡∏Å‡∏≥‡πÄ‡∏ô‡∏¥‡∏î‡∏†‡∏≤‡∏£‡∏∞‡∏î‡πâ‡∏ß‡∏¢"
    ],
    explain: "‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏Å‡∏¥‡∏ô‡∏¢‡∏∑‡∏î‡πÄ‡∏¢‡∏∑‡πâ‡∏≠ + ‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥‡∏™‡∏π‡∏á‡πÅ‡∏•‡∏∞‡∏Å‡∏•‡∏¥‡πà‡∏ô‡πÑ‡∏´‡∏°‡πâ ‡∏ö‡πà‡∏á‡∏ä‡∏µ‡πâ‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏â‡∏ô‡∏ß‡∏ô‡πÄ‡∏™‡∏∑‡πà‡∏≠‡∏°/‡πÄ‡∏Å‡∏¥‡∏î‡∏à‡∏∏‡∏î‡∏£‡πâ‡∏≠‡∏ô ‡∏Ñ‡∏ß‡∏£‡∏•‡∏î‡πÇ‡∏´‡∏•‡∏î/‡∏™‡∏•‡∏±‡∏ö‡πÄ‡∏ü‡∏™‡∏ó‡∏±‡∏ô‡∏ó‡∏µ ‡πÅ‡∏•‡∏∞‡∏ï‡∏£‡∏ß‡∏à RTD, DGA, ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≤‡∏ô‡∏ó‡∏≤‡∏ô‡∏â‡∏ô‡∏ß‡∏ô, ‡πÅ‡∏•‡∏∞‡∏™‡∏†‡∏≤‡∏û‡∏´‡∏ô‡πâ‡∏≤‡∏™‡∏±‡∏°‡∏ú‡∏±‡∏™‡∏†‡∏≤‡∏¢‡πÉ‡∏ô 24 ‡∏ä‡∏°.",
    tags:["Overload","Thermal"]
  },
  {
    q: "‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô Buchholz relay ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô (alarm) ‡πÅ‡∏ï‡πà‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà trip ‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏ù‡∏ô‡∏ü‡πâ‡∏≤‡∏Ñ‡∏∞‡∏ô‡∏≠‡∏á ‡∏°‡∏µ‡∏ü‡∏≠‡∏á‡∏Å‡πä‡∏≤‡∏ã‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢ ‚Äî ‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç?",
    choices: [
      "‡∏´‡∏¢‡∏∏‡∏î‡πÄ‡∏î‡∏¥‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ó‡∏±‡∏ô‡∏ó‡∏µ ‡πÅ‡∏•‡∏∞‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Å‡πä‡∏≤‡∏ã (DGA/‡∏Å‡πä‡∏≤‡∏ã‡πÉ‡∏ô‡∏£‡∏µ‡πÄ‡∏•‡∏¢‡πå)",
      "‡∏õ‡∏¥‡∏î‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡πÅ‡∏•‡πâ‡∏ß‡∏£‡∏≠‡πÉ‡∏´‡πâ‡∏ù‡∏ô‡∏´‡∏¢‡∏∏‡∏î",
      "‡∏≠‡∏±‡∏î‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏ü‡∏≠‡∏á‡∏´‡∏≤‡∏¢",
      "‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏£‡∏µ‡πÄ‡∏•‡∏¢‡πå‡πÅ‡∏•‡πâ‡∏ß‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ï‡πà‡∏≠"
    ],
    correct: 0,
    hints: [
      "Buchholz alarm = ‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ú‡∏¥‡∏î‡∏õ‡∏Å‡∏ï‡∏¥‡∏†‡∏≤‡∏¢‡πÉ‡∏ô‡∏ñ‡∏±‡∏á",
      "‡∏ù‡∏ô‡∏ü‡πâ‡∏≤‡∏Ñ‡∏∞‡∏ô‡∏≠‡∏á‡∏≠‡∏≤‡∏à‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡πÅ‡∏£‡∏á‡∏î‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô ‡πÅ‡∏ï‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏±‡∏î‡πÄ‡∏´‡∏ï‡∏∏‡∏†‡∏≤‡∏¢‡πÉ‡∏ô‡∏Å‡πà‡∏≠‡∏ô"
    ],
    explain: "Buchholz alarm ‡∏ä‡∏µ‡πâ‡∏ñ‡∏∂‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ú‡∏¥‡∏î‡∏õ‡∏Å‡∏ï‡∏¥‡∏†‡∏≤‡∏¢‡πÉ‡∏ô: ‡∏≠‡∏≤‡∏£‡πå‡∏Å/‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡πâ‡∏≠‡∏ô/‡∏£‡∏±‡πà‡∏ß ‡∏Ñ‡∏ß‡∏£‡∏´‡∏¢‡∏∏‡∏î‡πÅ‡∏•‡∏∞‡∏ï‡∏£‡∏ß‡∏à‡∏ó‡∏±‡∏ô‡∏ó‡∏µ ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Å‡πä‡∏≤‡∏ã‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏´‡∏≤‡∏ï‡πâ‡∏ô‡πÄ‡∏´‡∏ï‡∏∏ ‡∏Å‡πà‡∏≠‡∏ô‡∏Ñ‡∏∑‡∏ô‡∏™‡∏†‡∏≤‡∏û‡πÄ‡∏î‡∏¥‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á.",
    tags:["Protection","Gas"]
  },
  {
    q: "‡∏ï‡∏£‡∏ß‡∏à‡∏û‡∏ö‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡∏•‡∏î‡∏•‡∏á‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏´‡πá‡∏ô‡πÑ‡∏î‡πâ‡∏ä‡∏±‡∏î‡πÅ‡∏•‡∏∞‡∏°‡∏µ‡∏Ñ‡∏£‡∏≤‡∏ö‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡πÉ‡∏ï‡πâ‡∏ê‡∏≤‡∏ô ‚Äî ‡∏ó‡∏≤‡∏á‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÉ‡∏î‡∏Ñ‡∏ß‡∏£‡∏ó‡∏≥‡∏Å‡πà‡∏≠‡∏ô?",
    choices: [
      "‡πÄ‡∏ï‡∏¥‡∏°‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡πÉ‡∏´‡πâ‡πÄ‡∏ï‡πá‡∏°‡∏Å‡πà‡∏≠‡∏ô‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡πà‡∏≠‡∏¢‡∏´‡∏≤‡∏à‡∏∏‡∏î‡∏£‡∏±‡πà‡∏ß",
      "‡∏´‡∏≤‡∏à‡∏∏‡∏î‡∏£‡∏±‡πà‡∏ß/‡πÅ‡∏¢‡∏Å‡∏ß‡∏á‡∏à‡∏£/‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏õ‡∏ô‡πÄ‡∏õ‡∏∑‡πâ‡∏≠‡∏ô‡∏Å‡πà‡∏≠‡∏ô ‡πÅ‡∏•‡πâ‡∏ß‡∏à‡∏∂‡∏á‡πÄ‡∏ï‡∏¥‡∏°‡∏ï‡∏≤‡∏°‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô",
      "‡πÄ‡∏ä‡πá‡∏î‡∏û‡∏∑‡πâ‡∏ô‡πÉ‡∏´‡πâ‡∏™‡∏∞‡∏≠‡∏≤‡∏î‡πÅ‡∏•‡∏∞‡∏™‡∏±‡∏á‡πÄ‡∏Å‡∏ï‡πÑ‡∏õ‡∏Å‡πà‡∏≠‡∏ô",
      "‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î‡∏ö‡∏∏‡∏ä‡∏ä‡∏¥‡πà‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏•‡∏î‡∏Å‡∏≤‡∏£‡πÅ‡∏ü‡∏•‡∏ä‡πÇ‡∏≠‡πÄ‡∏ß‡∏≠‡∏£‡πå"
    ],
    correct: 1,
    hints: [
      "‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡∏ï‡πà‡∏≥ = ‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á flashover/partial discharge",
      "‡πÄ‡∏ï‡∏¥‡∏°‡∏Å‡πà‡∏≠‡∏ô‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡πÅ‡∏Å‡πâ‡∏£‡∏±‡πà‡∏ß = ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡πÅ‡∏•‡∏∞‡∏õ‡∏ô‡πÄ‡∏õ‡∏∑‡πâ‡∏≠‡∏ô"
    ],
    explain: "‡∏ï‡πâ‡∏≠‡∏á‡∏´‡∏¢‡∏∏‡∏î‡∏Å‡∏≤‡∏£‡∏£‡∏±‡πà‡∏ß‡πÅ‡∏•‡∏∞‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏õ‡∏ô‡πÄ‡∏õ‡∏∑‡πâ‡∏≠‡∏ô‡∏Å‡πà‡∏≠‡∏ô ‡πÄ‡∏ï‡∏¥‡∏°/‡∏ü‡∏∑‡πâ‡∏ô‡∏™‡∏†‡∏≤‡∏û‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡∏à‡∏∂‡∏á‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢‡πÅ‡∏•‡∏∞‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢.",
    tags:["Oil","Leak"]
  },
  {
    q: "‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏Æ‡∏±‡∏°‡∏î‡∏±‡∏á‡∏ú‡∏¥‡∏î‡∏õ‡∏Å‡∏ï‡∏¥ + ‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏ô‡∏°‡∏≤‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏™‡∏•‡∏±‡∏ö‡πÅ‡∏ó‡πá‡∏õ (OLTC) ‚Äî ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡πÄ‡∏£‡πà‡∏á‡∏î‡πà‡∏ß‡∏ô?",
    choices: [
      "‡∏™‡∏±‡∏á‡πÄ‡∏Å‡∏ï‡πÑ‡∏õ‡∏Å‡πà‡∏≠‡∏ô ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏õ‡∏Å‡∏ï‡∏¥‡∏´‡∏•‡∏±‡∏á‡∏™‡∏•‡∏±‡∏ö‡πÅ‡∏ó‡πá‡∏õ",
      "‡∏ï‡∏£‡∏ß‡∏à OLTC: ‡∏´‡∏ô‡πâ‡∏≤‡∏™‡∏±‡∏°‡∏ú‡∏±‡∏™/‡∏Å‡∏•‡πÑ‡∏Å/‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô OLTC ‡πÅ‡∏•‡∏∞‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏ô",
      "‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏ó‡πá‡∏õ‡πÑ‡∏õ‡∏°‡∏≤‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏´‡∏≤‡∏¢",
      "‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡∏¢‡∏∂‡∏î‡∏ê‡∏≤‡∏ô‡πÉ‡∏´‡πâ‡πÅ‡∏ô‡πà‡∏ô‡∏Ç‡∏∂‡πâ‡∏ô‡∏Å‡πà‡∏≠‡∏ô"
    ],
    correct: 1,
    hints: [
      "‡πÄ‡∏™‡∏µ‡∏¢‡∏á/‡∏™‡∏±‡πà‡∏ô = ‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì‡∏Å‡∏•‡πÑ‡∏Å/‡πÅ‡∏°‡πà‡πÄ‡∏´‡∏•‡πá‡∏Å/‡∏´‡∏•‡∏ß‡∏°",
      "OLTC ‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏™‡∏∂‡∏Å‡πÅ‡∏•‡∏∞‡∏Ñ‡∏≤‡∏£‡πå‡∏ö‡∏≠‡∏ô‡πÉ‡∏ô‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡πÑ‡∏î‡πâ"
    ],
    explain: "OLTC ‡∏ú‡∏¥‡∏î‡∏õ‡∏Å‡∏ï‡∏¥‡∏≠‡∏≤‡∏à‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÅ‡∏£‡∏á‡∏î‡∏±‡∏ô‡πÑ‡∏°‡πà‡∏™‡∏°‡∏î‡∏∏‡∏•/‡∏™‡∏õ‡∏≤‡∏£‡πå‡∏Å ‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏´‡∏ô‡πâ‡∏≤‡∏™‡∏±‡∏°‡∏ú‡∏±‡∏™ ‡∏Å‡∏•‡πÑ‡∏Å ‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô OLTC ‡πÅ‡∏•‡∏∞‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏ô ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏Å‡∏ß‡πà‡∏≤‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡∏õ‡∏•‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏.",
    tags:["OLTC","Vibration"]
  },
  {
    q: "‡πÇ‡∏´‡∏•‡∏î‡∏™‡∏≤‡∏°‡πÄ‡∏ü‡∏™‡πÑ‡∏°‡πà‡∏™‡∏°‡∏î‡∏∏‡∏•‡∏´‡∏ô‡∏±‡∏Å (‡πÄ‡∏ü‡∏™ A 80%, B 30%, C 95%) ‚Äî ‡∏Ñ‡∏ß‡∏£‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£‡πÄ‡∏û‡∏∑‡πà‡∏≠ ‚Äò‡∏ã‡πà‡∏≠‡∏°‡∏Å‡πà‡∏≠‡∏ô‡∏û‡∏±‡∏á‚Äô?",
    choices: [
      "‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£ ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏ï‡πá‡∏° 100%",
      "‡∏™‡∏•‡∏±‡∏ö‡πÇ‡∏´‡∏•‡∏î/‡πÄ‡∏ü‡∏™‡∏ö‡∏≤‡∏•‡∏≤‡∏ô‡∏ã‡πå ‡πÅ‡∏•‡∏∞‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏∏‡∏î‡∏ï‡πà‡∏≠‡∏´‡∏•‡∏ß‡∏°/‡∏Æ‡∏≠‡∏ï‡∏™‡∏õ‡∏≠‡∏ï‡∏î‡πâ‡∏ß‡∏¢‡πÄ‡∏ó‡∏≠‡∏£‡πå‡πÇ‡∏°‡∏™‡πÅ‡∏Å‡∏ô",
      "‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏û‡∏¥‡∏Å‡∏±‡∏î‡∏´‡∏°‡πâ‡∏≠‡πÅ‡∏õ‡∏•‡∏á‡∏ó‡∏±‡∏ô‡∏ó‡∏µ",
      "‡πÄ‡∏õ‡∏¥‡∏î‡∏û‡∏±‡∏î‡∏•‡∏°‡∏£‡∏∞‡∏ö‡∏≤‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡πâ‡∏≠‡∏ô‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô"
    ],
    correct: 1,
    hints: [
      "‡πÑ‡∏°‡πà‡∏™‡∏°‡∏î‡∏∏‡∏• = ‡∏Å‡∏£‡∏∞‡πÅ‡∏™‡∏£‡πâ‡∏≠‡∏ô‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏à‡∏∏‡∏î/‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ñ‡∏£‡∏µ‡∏¢‡∏î‡∏â‡∏ô‡∏ß‡∏ô",
      "‡∏£‡∏∞‡∏ö‡∏≤‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡πâ‡∏≠‡∏ô‡πÑ‡∏°‡πà‡πÅ‡∏Å‡πâ‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏"
    ],
    explain: "‡∏ö‡∏≤‡∏•‡∏≤‡∏ô‡∏ã‡πå‡πÇ‡∏´‡∏•‡∏î‡∏à‡∏∞‡∏•‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ñ‡∏£‡∏µ‡∏¢‡∏î‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÄ‡∏ü‡∏™‡πÅ‡∏•‡∏∞‡∏à‡∏∏‡∏î‡∏ï‡πà‡∏≠ ‡∏ï‡∏£‡∏ß‡∏à‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡πâ‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡∏Ñ‡∏≠‡∏ô‡πÄ‡∏ô‡∏Ñ‡∏ä‡∏±‡∏ô‡∏ä‡πà‡∏ß‡∏¢‡∏Å‡∏±‡∏ô‡πÑ‡∏ü‡πÑ‡∏´‡∏°‡πâ‡∏Ç‡∏±‡πâ‡∏ß‡∏ï‡πà‡∏≠.",
    tags:["LoadBalance"]
  },
  {
    q: "‡∏ú‡∏• DGA ‡∏û‡∏ö‡∏≠‡∏∞‡πÄ‡∏ã‡∏ó‡∏¥‡∏•‡∏µ‡∏ô (C2H2) ‡∏™‡∏π‡∏á‡∏ú‡∏¥‡∏î‡∏õ‡∏Å‡∏ï‡∏¥‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏±‡∏ö‡πÑ‡∏Æ‡πÇ‡∏î‡∏£‡πÄ‡∏à‡∏ô ‚Äî ‡πÅ‡∏õ‡∏•‡∏ß‡πà‡∏≤‡∏≠‡∏∞‡πÑ‡∏£‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏£‡∏ó‡∏≥‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£?",
    choices: [
      "‡∏õ‡∏Å‡∏ï‡∏¥ ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡πÄ‡∏Å‡∏¥‡∏î‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡∏ä‡∏£‡∏≤‡∏ï‡∏≤‡∏°‡∏≠‡∏≤‡∏¢‡∏∏",
      "‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì‡∏≠‡∏≤‡∏£‡πå‡∏Å‡∏†‡∏≤‡∏¢‡πÉ‡∏ô: ‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏´‡∏≤‡∏à‡∏∏‡∏î‡∏Å‡∏≥‡πÄ‡∏ô‡∏¥‡∏î‡πÅ‡∏•‡∏∞‡∏û‡∏¥‡∏à‡∏≤‡∏£‡∏ì‡∏≤‡∏´‡∏¢‡∏∏‡∏î‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á",
      "‡πÅ‡∏Ñ‡πà‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡∏£‡∏∞‡∏ö‡∏≤‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡πâ‡∏≠‡∏ô",
      "‡πÄ‡∏ï‡∏¥‡∏°‡∏™‡∏≤‡∏£‡∏î‡∏π‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏∑‡πâ‡∏ô‡∏Å‡πá‡∏û‡∏≠"
    ],
    correct: 1,
    hints: [
      "C2H2 ‡∏°‡∏±‡∏Å‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå‡∏Å‡∏≤‡∏£‡∏≠‡∏≤‡∏£‡πå‡∏Ñ/‡∏™‡∏õ‡∏≤‡∏£‡πå‡∏Å",
      "‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏±‡∏ö H2 = ‡∏Ç‡∏¢‡∏±‡∏ö‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏Ç‡∏∂‡πâ‡∏ô"
    ],
    explain: "C2H2 ‡∏™‡∏π‡∏á‡∏ö‡πà‡∏á‡∏ä‡∏µ‡πâ‡∏≠‡∏≤‡∏£‡πå‡∏Å‡∏†‡∏≤‡∏¢‡πÉ‡∏ô ‡∏Ñ‡∏ß‡∏£‡∏™‡∏∑‡∏ö‡∏´‡∏≤‡∏ï‡πâ‡∏ô‡πÄ‡∏´‡∏ï‡∏∏ (‡πÄ‡∏ä‡πà‡∏ô OLTC, ‡∏à‡∏∏‡∏î‡∏ï‡πà‡∏≠‡∏´‡∏•‡∏ß‡∏°) ‡πÅ‡∏•‡∏∞‡∏û‡∏¥‡∏à‡∏≤‡∏£‡∏ì‡∏≤‡∏´‡∏¢‡∏∏‡∏î‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢.",
    tags:["DGA","Fault"]
  },
  {
    q: "‡∏ö‡∏∏‡∏ä‡∏ä‡∏¥‡πà‡∏á HV ‡∏°‡∏µ‡∏£‡∏≠‡∏¢‡πÅ‡∏ï‡∏Å‡∏ú‡∏¥‡∏ß‡πÅ‡∏•‡∏∞‡∏Ñ‡∏£‡∏≤‡∏ö‡∏™‡∏Å‡∏õ‡∏£‡∏Å‡∏´‡∏ô‡∏≤‡πÉ‡∏ô‡∏™‡∏†‡∏≤‡∏û‡∏≠‡∏≤‡∏Å‡∏≤‡∏®‡∏ä‡∏∑‡πâ‡∏ô ‚Äî ‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏•‡∏≥‡∏î‡∏±‡∏ö?",
    choices: [
      "‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î/‡πÄ‡∏Ñ‡∏•‡∏∑‡∏≠‡∏ö ‡πÅ‡∏•‡∏∞‡∏ï‡∏£‡∏ß‡∏à‡∏Ñ‡πà‡∏≤‡∏ó‡∏≤‡∏á‡πÑ‡∏ü‡∏ü‡πâ‡∏≤ (C, tanŒ¥) ‡πÄ‡∏£‡πá‡∏ß‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î",
      "‡∏õ‡∏•‡πà‡∏≠‡∏¢‡πÑ‡∏ß‡πâ‡∏Å‡πà‡∏≠‡∏ô ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÅ‡∏ü‡∏•‡∏ä‡πÇ‡∏≠‡πÄ‡∏ß‡∏≠‡∏£‡πå",
      "‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏∞‡∏¢‡∏∞ PM ‡∏ñ‡∏µ‡πà‡∏Ç‡∏∂‡πâ‡∏ô‡πÄ‡∏â‡∏¢‡πÜ",
      "‡∏•‡∏î‡πÇ‡∏´‡∏•‡∏î‡∏•‡∏á‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢‡∏û‡∏≠"
    ],
    correct: 0,
    hints: [
      "‡∏ö‡∏∏‡∏ä‡∏ä‡∏¥‡πà‡∏á‡∏™‡∏Å‡∏õ‡∏£‡∏Å/‡πÅ‡∏ï‡∏Å‡∏£‡πâ‡∏≤‡∏ß = ‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á‡∏£‡∏±‡πà‡∏ß‡πÑ‡∏´‡∏•",
      "‡∏ä‡∏∑‡πâ‡∏ô = ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡πÅ‡∏ü‡∏•‡∏ä‡πÇ‡∏≠‡πÄ‡∏ß‡∏≠‡∏£‡πå"
    ],
    explain: "‡∏ö‡∏∏‡∏ä‡∏ä‡∏¥‡πà‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏à‡∏∏‡∏î‡∏ß‡∏¥‡∏Å‡∏§‡∏ï‡∏¥ ‡∏Ñ‡∏ß‡∏£‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î/‡πÄ‡∏Ñ‡∏•‡∏∑‡∏≠‡∏ö ‡∏ï‡∏£‡∏ß‡∏à C, tanŒ¥ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏™‡∏†‡∏≤‡∏û‡∏â‡∏ô‡∏ß‡∏ô‡∏ó‡∏±‡∏ô‡∏ó‡∏µ.",
    tags:["Bushing","Surface"]
  },
  {
    q: "‡∏û‡∏ö hot-spot ‡∏ó‡∏µ‡πà‡∏Ñ‡∏≠‡∏ô‡πÄ‡∏ô‡∏Ñ‡∏ä‡∏±‡∏ô‡∏î‡πâ‡∏≤‡∏ô LV (~140¬∞C) ‡∏à‡∏≤‡∏Å‡πÄ‡∏ó‡∏≠‡∏£‡πå‡πÇ‡∏°‡∏™‡πÅ‡∏Å‡∏ô‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏û‡∏µ‡∏Å‡πÇ‡∏´‡∏•‡∏î ‚Äî ‡∏ó‡∏≥‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£?",
    choices: [
      "‡∏ï‡∏¥‡∏î‡∏û‡∏±‡∏î‡∏•‡∏°‡πÄ‡∏õ‡πà‡∏≤‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏à‡∏∏‡∏î",
      "‡∏î‡∏±‡∏ö‡πÇ‡∏´‡∏•‡∏î‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß ‡∏ï‡∏£‡∏ß‡∏à‡∏Ç‡∏±‡∏ô‡πÅ‡∏ô‡πà‡∏ô/‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î/‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏ó‡∏µ‡πà‡πÑ‡∏´‡∏°‡πâ",
      "‡∏£‡∏≠‡πÉ‡∏´‡πâ‡∏û‡∏µ‡∏Å‡∏ú‡πà‡∏≤‡∏ô‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡πà‡∏≠‡∏¢‡∏ó‡∏≥",
      "‡∏≠‡∏±‡∏î‡∏à‡∏≤‡∏£‡∏∞‡∏ö‡∏µ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ó‡∏µ‡πà‡∏à‡∏∏‡∏î‡∏ï‡πà‡∏≠"
    ],
    correct: 1,
    hints: [
      "140¬∞C ‡∏ó‡∏µ‡πà‡∏à‡∏∏‡∏î‡∏ï‡πà‡∏≠ = ‡∏≠‡∏≠‡∏Å‡∏ã‡∏¥‡πÄ‡∏î‡∏ä‡∏±‡∏ô/‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≤‡∏ô‡∏ó‡∏≤‡∏ô‡∏à‡∏∏‡∏î‡∏ï‡πà‡∏≠‡∏™‡∏π‡∏á",
      "‡∏õ‡∏•‡πà‡∏≠‡∏¢‡∏¢‡∏∑‡∏î‡πÄ‡∏¢‡∏∑‡πâ‡∏≠ = ‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡πÑ‡∏´‡∏°‡πâ"
    ],
    explain: "‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà root cause: ‡∏•‡∏î/‡∏ï‡∏±‡∏î‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢ ‡∏ï‡∏£‡∏ß‡∏à‡∏Ç‡∏±‡∏ô‡πÅ‡∏ô‡πà‡∏ô/‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î/‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏ó‡∏µ‡πà‡πÄ‡∏™‡∏µ‡∏¢.",
    tags:["Connection","Thermal"]
  },
  {
    q: "‡∏ù‡∏≤‡∏õ‡∏¥‡∏î‡∏´‡∏≤‡∏¢‡πÉ‡∏à (conservator) ‡∏°‡∏µ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏î‡∏π‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏∑‡πâ‡∏ô‡∏™‡∏µ‡∏ä‡∏°‡∏û‡∏π‡πÄ‡∏Ç‡πâ‡∏° (‡∏≠‡∏¥‡πà‡∏°‡∏ï‡∏±‡∏ß) ‚Äî ‡∏ó‡∏≤‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°‡∏Ñ‡∏∑‡∏≠?",
    choices: [
      "‡πÑ‡∏°‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£",
      "‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô/‡∏ü‡∏∑‡πâ‡∏ô‡∏™‡∏†‡∏≤‡∏û‡∏ã‡∏¥‡∏•‡∏¥‡∏Å‡∏≤‡πÄ‡∏à‡∏•‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡πÅ‡∏•‡∏∞‡∏ï‡∏£‡∏ß‡∏à‡∏Ç‡∏≠‡∏á‡πÄ‡∏´‡∏•‡∏ß‡∏õ‡∏ô‡πÄ‡∏õ‡∏∑‡πâ‡∏≠‡∏ô",
      "‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡πÅ‡∏ó‡∏ô",
      "‡∏õ‡∏¥‡∏î‡∏ß‡∏≤‡∏•‡πå‡∏ß‡∏•‡∏°‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏´‡∏¢‡∏∏‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏∑‡πâ‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤"
    ],
    correct: 1,
    hints: [
      "‡∏ã‡∏¥‡∏•‡∏¥‡∏Å‡∏≤‡πÄ‡∏à‡∏•‡∏™‡∏µ‡∏ä‡∏°‡∏û‡∏π=‡∏≠‡∏¥‡πà‡∏°‡∏ô‡πâ‡∏≥",
      "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏∑‡πâ‡∏ô=‡∏®‡∏±‡∏ï‡∏£‡∏π‡∏Ç‡∏≠‡∏á‡∏â‡∏ô‡∏ß‡∏ô‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏©"
    ],
    explain: "‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô/‡∏ü‡∏∑‡πâ‡∏ô‡∏™‡∏†‡∏≤‡∏û‡∏™‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏∑‡πâ‡∏ô ‡πÅ‡∏•‡∏∞‡∏ï‡∏£‡∏ß‡∏à‡∏Ñ‡πà‡∏≤‡∏ß‡∏≠‡πÄ‡∏ï‡∏≠‡∏£‡πå‡∏Ñ‡∏≠‡∏ô‡πÄ‡∏ó‡∏ô‡∏ó‡πå‡πÉ‡∏ô‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô ‡∏•‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏ï‡πà‡∏≠‡∏â‡∏ô‡∏ß‡∏ô.",
    tags:["Moisture","Oil"]
  },
  {
    q: "‡∏´‡∏•‡∏±‡∏á‡∏û‡∏≤‡∏¢‡∏∏: ‡∏•‡πà‡∏≠‡∏ü‡πâ‡∏≤ (LA) ‡∏ï‡∏±‡∏ß‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏°‡∏µ‡∏£‡∏≠‡∏¢‡∏£‡πâ‡∏≤‡∏ß/‡∏£‡∏±‡πà‡∏ß‡πÑ‡∏´‡∏•‡∏Å‡∏£‡∏∞‡πÅ‡∏™‡∏™‡∏π‡∏á‡∏ú‡∏¥‡∏î‡∏õ‡∏Å‡∏ï‡∏¥ ‚Äî ‡∏•‡∏≥‡∏î‡∏±‡∏ö?",
    choices: [
      "‡∏õ‡∏•‡πà‡∏≠‡∏¢‡πÑ‡∏ß‡πâ ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÅ‡∏£‡∏á‡∏î‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô",
      "‡∏ñ‡∏≠‡∏î‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô/‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏â‡∏ô‡∏ß‡∏ô‡∏ó‡∏±‡∏ô‡∏ó‡∏µ ‡∏Å‡πà‡∏≠‡∏ô‡∏Ñ‡∏∑‡∏ô‡∏£‡∏∞‡∏ö‡∏ö",
      "‡∏•‡πâ‡∏≤‡∏á‡∏î‡πâ‡∏ß‡∏¢‡∏ô‡πâ‡∏≥‡πÅ‡∏•‡πâ‡∏ß‡πÉ‡∏ä‡πâ‡∏ï‡πà‡∏≠",
      "‡∏•‡∏î‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏•‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î"
    ],
    correct: 1,
    hints: [
      "LA ‡πÄ‡∏™‡∏µ‡∏¢ = ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡πÇ‡∏≠‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ß‡∏≠‡∏•‡πÄ‡∏ó‡∏à‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ",
      "‡∏û‡∏≤‡∏¢‡∏∏ = ‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡πÇ‡∏î‡∏ô‡∏ã‡πâ‡∏≥"
    ],
    explain: "‡∏•‡πà‡∏≠‡∏ü‡πâ‡∏≤‡∏ä‡∏≥‡∏£‡∏∏‡∏î‡∏ï‡πâ‡∏≠‡∏á‡∏ñ‡∏≠‡∏î‡∏≠‡∏≠‡∏Å/‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏•‡∏∞‡∏ó‡∏î‡∏™‡∏≠‡∏ö ‡∏Å‡πà‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö‡∏à‡πà‡∏≤‡∏¢ ‡∏ï‡∏£‡∏ß‡∏à‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡πà‡∏≠‡∏•‡∏á‡∏î‡∏¥‡∏ô‡∏£‡πà‡∏ß‡∏°‡∏î‡πâ‡∏ß‡∏¢.",
    tags:["Surge","LA"]
  }
];

const TOTAL = BANK.length;
const MAX_TIME = 45;
const HINT_COST = 150;

/* ========= State ========= */
let idx=0, score=0, streak=0, bestStreak=0, timer=null, tRemain=MAX_TIME, elapsedSum=0, answered=false, musicOn=false, sfxOn=true;
let userAnswers = []; // {q, your, correct, explain, time, gained}

/* ========= Elements ========= */
const $ = sel => document.querySelector(sel);
const qNum = $("#qNum"), qTotal=$("#qTotal"), qText=$("#qText"), choicesEl=$("#choices");
const timeBar=$("#timeBar"), timeTxt=$("#timeTxt"), scoreBar=$("#scoreBar"), scoreTxt=$("#scoreTxt");
const streakBar=$("#streakBar"), streakTxt=$("#streakTxt"), explain=$("#explain"), nextBtn=$("#next");
const hint1=$("#hint1"), hint2=$("#hint2"), whyBtn=$("#why"), revealBtn=$("#reveal");
qTotal.textContent = TOTAL;

/* ========= Audio: Smooth background (pleasant) with adaptive pace ========= */
const AudioCtx = window.AudioContext || window.webkitAudioContext;
let ctx, masterGain, musicGain, sfxGain, seqTimer;
let baseStep = 60/90/4; // 90 BPM, 16th
let paceFactor = 1.0;   // 1.0 normal, >1.0 faster when time low
let seqStep = 0;
function audioInit(){
  if(ctx) return;
  ctx = new AudioCtx();
  masterGain = ctx.createGain(); masterGain.gain.value = 1.0; masterGain.connect(ctx.destination);
  musicGain  = ctx.createGain(); musicGain.gain.value = 0.0; musicGain.connect(masterGain);
  sfxGain    = ctx.createGain(); sfxGain.gain.value = 0.28;  sfxGain.connect(masterGain);

  startChillSeq();
}
function startChillSeq(){
  const padBus = ctx.createGain(); padBus.gain.value = 0.22; padBus.connect(musicGain);
  const pluckBus = ctx.createGain(); pluckBus.gain.value = 0.28; pluckBus.connect(musicGain);
  const kickBus = ctx.createGain(); kickBus.gain.value = 0.18; kickBus.connect(musicGain);

  function pad(t, freq){
    const o = ctx.createOscillator(); o.type="triangle";
    const f = ctx.createBiquadFilter(); f.type="lowpass"; f.frequency.value=900;
    const g = ctx.createGain(); g.gain.value=0.0001;
    o.connect(f).connect(g).connect(padBus);
    o.frequency.setValueAtTime(freq, t);
    g.gain.linearRampToValueAtTime(0.12, t+0.2);
    g.gain.linearRampToValueAtTime(0.0001, t+2.8);
    o.start(t); o.stop(t+3);
  }
  function pluck(t, freq){
    const o = ctx.createOscillator(); o.type="sine";
    const f = ctx.createBiquadFilter(); f.type="bandpass"; f.frequency.value=1400; f.Q.value=1.2;
    const g = ctx.createGain(); g.gain.value=0.0001;
    o.connect(f).connect(g).connect(pluckBus);
    o.frequency.setValueAtTime(freq, t);
    g.gain.exponentialRampToValueAtTime(0.18, t+0.01);
    g.gain.exponentialRampToValueAtTime(0.0001, t+0.18);
    o.start(t); o.stop(t+0.2);
  }
  function kick(t){
    const o = ctx.createOscillator(); o.type="sine";
    const g = ctx.createGain(); g.gain.value=0.0001;
    o.connect(g).connect(kickBus);
    o.frequency.setValueAtTime(120, t);
    o.frequency.exponentialRampToValueAtTime(55, t+0.12);
    g.gain.exponentialRampToValueAtTime(0.25, t+0.005);
    g.gain.exponentialRampToValueAtTime(0.0001, t+0.13);
    o.start(t); o.stop(t+0.14);
  }

  // simple pleasant loop in A minor (no harshness)
  const A3=220, C4=261.63, D4=293.66, E4=329.63, G4=392.00, A4=440;
  const padProg = [A3, C4, D4, C4]; // pad every bar
  const pluckLine= [A4,E4,C4,E4, D4,A4,E4,C4,  A4,E4,D4,E4, C4,A4,E4,D4];

  let nextTime = ctx.currentTime + 0.1;
  function schedule(){
    const now = ctx.currentTime;
    while(nextTime < now + 0.25){
      const stepDur = baseStep / paceFactor; // faster when factor > 1
      const s = seqStep % 16;
      // kick on 1 & 9, light groove
      if(s===0 || s===8) kick(nextTime);
      // pluck each step with gaps for breath
      if(s !== 4 && s !== 12) pluck(nextTime, pluckLine[s]);
      // pad at start of each bar
      if(s===0){ const chord = padProg[(Math.floor(seqStep/4)%padProg.length)]; pad(nextTime, chord); }

      nextTime += stepDur;
      seqStep++;
    }
    seqTimer = setTimeout(schedule, 60);
  }
  schedule();
}
function updateMusicPace(){
  // smooth acceleration when time low
  const prev = paceFactor;
  if(tRemain <= 8) paceFactor = 1.7;
  else if(tRemain <= 16) paceFactor = 1.35;
  else paceFactor = 1.0;
  // tiny gain lift under pressure
  if(ctx){
    const targetGain = musicOn ? (tRemain<=8 ? 0.20 : tRemain<=16 ? 0.18 : 0.16) : 0.0;
    musicGain.gain.cancelScheduledValues(ctx.currentTime);
    musicGain.gain.linearRampToValueAtTime(targetGain, ctx.currentTime+0.15);
  }
}

/* ========= SFX: soft & short ========= */
function sfx(type="ok"){
  if(!sfxOn || !ctx) return;
  const t = ctx.currentTime;
  const o = ctx.createOscillator(); const g = ctx.createGain();
  const f = ctx.createBiquadFilter(); f.type="lowpass"; f.frequency.value = 1000;
  o.connect(f).connect(g).connect(sfxGain);
  if(type==="ok"){ o.type="sine"; o.frequency.setValueAtTime(660, t); o.frequency.linearRampToValueAtTime(770, t+0.08); }
  if(type==="bad"){ o.type="triangle"; o.frequency.setValueAtTime(200, t); o.frequency.linearRampToValueAtTime(150, t+0.12); }
  g.gain.setValueAtTime(0.0001, t);
  g.gain.exponentialRampToValueAtTime(0.18, t+0.01);
  g.gain.exponentialRampToValueAtTime(0.0001, t+0.16);
  o.start(t); o.stop(t+0.18);
}

/* ========= Confetti ========= */
const confetti = (()=>{
  const canvas = document.getElementById('confetti');
  const c = canvas.getContext('2d');
  let W,H, pieces=[];
  function resize(){ W=canvas.width=window.innerWidth; H=canvas.height=window.innerHeight; }
  window.addEventListener('resize', resize); resize();
  function burst(x=W/2,y=H/2, n=120){
    pieces = [...pieces, ...Array.from({length:n}).map(()=>({
      x, y, r: Math.random()*6+3, vx:(Math.random()-0.5)*8, vy:(Math.random()-1.2)*-10, a:1, rot:Math.random()*Math.PI
    }))];
  }
  function draw(){
    c.clearRect(0,0,W,H);
    pieces = pieces.filter(p=>p.a>0.01 && p.y<H+20);
    pieces.forEach(p=>{
      p.x += p.vx; p.y += p.vy; p.vy += 0.25; p.a *= 0.985; p.rot += 0.2;
      c.save(); c.globalAlpha=p.a; c.translate(p.x,p.y); c.rotate(p.rot);
      c.fillStyle = `hsl(${(p.x+p.y)%360}, 80%, 60%)`;
      c.fillRect(-p.r,-p.r,p.r*2,p.r*2);
      c.restore();
    });
    requestAnimationFrame(draw);
  }
  draw();
  return { burst };
})();

/* ========= Game Flow ========= */
const TOTAL_Q = BANK.length;
function formatSec(s){ return Math.max(0, Math.ceil(s)).toString(); }

function setBars(){
  timeBar.style.transform = `scaleX(${tRemain/MAX_TIME})`;
  timeTxt.textContent = formatSec(tRemain);
  scoreTxt.textContent = score;
  scoreBar.style.transform = `scaleX(${Math.min(1, score/(TOTAL_Q*1000))})`;
  streakTxt.textContent = streak;
  streakBar.style.transform = `scaleX(${Math.min(1, streak/ TOTAL_Q)})`;
}

function renderQuestion(){
  answered=false;
  const item = BANK[idx];
  qNum.textContent = idx+1;
  qText.textContent = item.q;
  choicesEl.innerHTML = "";
  item.choices.forEach((ch,i)=>{
    const div = document.createElement('button');
    div.className = 'choice';
    div.innerHTML = `<b>${String.fromCharCode(65+i)}.</b> <span>${ch}</span>`;
    div.onclick = ()=> choose(i);
    choicesEl.appendChild(div);
  });
  explain.style.display="none"; explain.innerHTML="";
  revealBtn.style.display="none";
  nextBtn.style.display="none";
  tRemain = MAX_TIME; setBars();
  if(timer) clearInterval(timer);
  timer = setInterval(()=>{
    tRemain -= .25;
    updateMusicPace();
    if(tRemain<=0){ clearInterval(timer); timeout(); }
    setBars();
  }, 250);
}

function timeout(){
  lockChoices();
  streak=0; setBars();
  showExplain(false, "‡∏´‡∏°‡∏î‡πÄ‡∏ß‡∏•‡∏≤! ‚è±Ô∏è ‡πÅ‡∏ï‡πâ‡∏°‡∏Ç‡πâ‡∏≠‡∏ô‡∏µ‡πâ = 0\n‡∏•‡∏≠‡∏á‡∏Ñ‡∏¥‡∏î: ‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞ ‚Äò‡∏•‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‚Äô ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£‡∏†‡∏≤‡∏¢‡πÉ‡∏ô 30 ‡∏ô‡∏≤‡∏ó‡∏µ‡πÅ‡∏£‡∏Å?");
  sfx("bad");
  revealBtn.style.display="inline-block";
  nextBtn.style.display="inline-block";
  // record answer as timeout
  recordAnswer(-1, 0);
}

function lockChoices(){ [...document.querySelectorAll('.choice')].forEach(c=>c.onclick=null); }

let hintSpent=0;
function choose(i){
  if(answered) return;
  answered=true; clearInterval(timer);
  const item = BANK[idx];
  const choiceEls = [...document.querySelectorAll('.choice')];
  choiceEls.forEach((el,j)=>{
    el.classList.toggle('correct', j===item.correct);
    if(j===i && i!==item.correct) el.classList.add('wrong');
  });
  let gained = 0;
  if(i===item.correct){
    gained = Math.max(0, Math.round(1000 * (tRemain / MAX_TIME)));
    gained -= hintSpent; if(gained<0) gained=0;
    score += gained; streak++; bestStreak = Math.max(bestStreak, streak);
    confetti.burst(window.innerWidth*0.5, 220, 80);
    sfx("ok");
    showExplain(true, `‚úÖ ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á! +${gained} ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô\n‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•: ${item.explain}\n‡∏ñ‡∏≤‡∏°‡∏Å‡∏•‡∏±‡∏ö: ‡∏ó‡∏≥‡πÑ‡∏° ‚Äò‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏‡∏£‡∏≤‡∏Å‚Äô ‡∏ñ‡∏∂‡∏á‡∏°‡∏≤‡∏Å‡πà‡∏≠‡∏ô ‚Äò‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡∏ó‡∏µ‡πà‡∏õ‡∏•‡∏≤‡∏¢‡∏ó‡∏≤‡∏á‚Äô?`);
  }else{
    streak=0;
    sfx("bad");
    showExplain(false, `‚ùå ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà\n‡πÄ‡∏Å‡πá‡∏ö‡∏´‡∏•‡∏±‡∏Å‡∏Ñ‡∏¥‡∏î: ${item.explain}\n‡∏•‡∏≠‡∏á‡∏ñ‡∏≤‡∏°‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á: ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏ó‡∏≥‡∏ï‡∏≤‡∏°‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏ô‡∏µ‡πâ ‚Äò‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏∂‡πâ‡∏ô‚Äô ‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£?`);
  }
  elapsedSum += (MAX_TIME - tRemain);
  setBars();
  revealBtn.style.display="inline-block";
  nextBtn.style.display="inline-block";
  recordAnswer(i, gained);
}

function recordAnswer(yourIndex, gained){
  const item = BANK[idx];
  userAnswers[idx] = {
    q: item.q,
    your: yourIndex,
    correct: item.correct,
    explain: item.explain,
    time: (MAX_TIME - tRemain),
    gained
  };
}

function showExplain(ok, text){
  explain.style.display="block";
  explain.innerText = text;
}

function spendHint(level){
  if(answered) return;
  const item = BANK[idx];
  hintSpent += HINT_COST;
  score = Math.max(0, score - HINT_COST);
  setBars();
  const msg = level===1 ? item.hints[0] : item.hints[1];
  showExplain(false, `Hint ${level}: ${msg}\n(‡∏´‡∏±‡∏Å ${HINT_COST} ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏à‡∏≤‡∏Å‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏£‡∏ß‡∏°)`);
}

/* ========= UI Buttons ========= */
document.getElementById('btnStart').onclick = async ()=>{
  $("#game").style.display="block";
  document.getElementById('summary').style.display="none";
  idx=0; score=0; streak=0; bestStreak=0; elapsedSum=0; hintSpent=0; userAnswers=[];
  audioInit();
  if(ctx.state==="suspended") await ctx.resume();
  renderQuestion();
};

document.getElementById('btnHow').onclick = ()=>{
  alert("‡∏ß‡∏¥‡∏ò‡∏µ‡πÄ‡∏•‡πà‡∏ô:\n‚Ä¢ ‡∏ï‡∏≠‡∏ö‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏Ç‡πâ‡∏≠‡∏†‡∏≤‡∏¢‡πÉ‡∏ô 45 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ\n‚Ä¢ ‡∏ï‡∏≠‡∏ö‡∏ñ‡∏π‡∏Å + ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏¢‡∏≠‡∏∞ = ‡πÑ‡∏î‡πâ ~1,000 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô\n‚Ä¢ ‡∏Ç‡∏≠ Hint ‡πÑ‡∏î‡πâ 2 ‡∏£‡∏∞‡∏î‡∏±‡∏ö (‡∏´‡∏±‡∏Å 150 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏ï‡πà‡∏≠‡∏Ñ‡∏£‡∏±‡πâ‡∏á)\n‚Ä¢ ‡πÉ‡∏ä‡πâ‡∏Å‡∏≤‡∏£‡∏ñ‡∏≤‡∏°‡∏Å‡∏•‡∏±‡∏ö: ‚Äò‡∏ó‡∏≥‡πÑ‡∏°?‚Äô ‚Äò‡∏ñ‡πâ‡∏≤‚Ä¶‡∏à‡∏∞‡πÄ‡∏Å‡∏¥‡∏î‡∏≠‡∏∞‡πÑ‡∏£‡∏Ç‡∏∂‡πâ‡∏ô?‚Äô ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ù‡∏∂‡∏Å‡∏Ñ‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•\n‚Ä¢ ‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢: ‡∏à‡∏±‡∏î‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏ã‡πà‡∏≠‡∏°‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡πÅ‡∏ö‡∏ö‡∏•‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á ‡∏ï‡∏≤‡∏°‡∏ö‡∏£‡∏¥‡∏ö‡∏ó MEA/IEC/IEEE");
};

document.getElementById('btnMusic').onclick = async (e)=>{
  audioInit();
  if(ctx.state==="suspended") await ctx.resume();
  musicOn=!musicOn;
  e.target.textContent = musicOn ? "üéº ‡πÄ‡∏û‡∏•‡∏á‡∏ö‡∏£‡∏£‡∏¢‡∏≤‡∏Å‡∏≤‡∏®: ‡πÄ‡∏õ‡∏¥‡∏î" : "üéº ‡πÄ‡∏û‡∏•‡∏á‡∏ö‡∏£‡∏£‡∏¢‡∏≤‡∏Å‡∏≤‡∏®: ‡∏õ‡∏¥‡∏î";
  musicGain.gain.cancelScheduledValues(ctx.currentTime);
  musicGain.gain.linearRampToValueAtTime(musicOn?0.16:0.0, ctx.currentTime+0.2);
};

document.getElementById('btnSfx').onclick = (e)=>{
  sfxOn=!sfxOn; e.target.textContent = sfxOn ? "üîà ‡πÄ‡∏≠‡∏ü‡πÄ‡∏ü‡∏Å‡∏ï‡πå: ‡πÄ‡∏õ‡∏¥‡∏î" : "üîá ‡πÄ‡∏≠‡∏ü‡πÄ‡∏ü‡∏Å‡∏ï‡πå: ‡∏õ‡∏¥‡∏î";
};

hint1.onclick = ()=>spendHint(1);
hint2.onclick = ()=>spendHint(2);
whyBtn.onclick = ()=>{
  if(!explain.innerText.includes("‡∏•‡∏≠‡∏á‡∏Ñ‡∏¥‡∏î")) showExplain(false,
    "‡∏ñ‡∏≤‡∏°‡∏Å‡∏•‡∏±‡∏ö: ‡∏ó‡∏≥‡πÑ‡∏°‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ô‡∏±‡πâ‡∏ô‡∏•‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡πÑ‡∏î‡πâ‡πÅ‡∏ó‡πâ‡∏à‡∏£‡∏¥‡∏á? ‚Ä¢ ‡∏ñ‡πâ‡∏≤‡∏õ‡∏•‡πà‡∏≠‡∏¢‡πÑ‡∏ß‡πâ 24 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á ‡∏à‡∏∞‡πÄ‡∏Å‡∏¥‡∏î‡∏≠‡∏∞‡πÑ‡∏£‡∏Ç‡∏∂‡πâ‡∏ô‡∏Å‡∏±‡∏ö‡∏â‡∏ô‡∏ß‡∏ô/‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô/‡∏Å‡∏≤‡∏£‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô?");
};

revealBtn.onclick = ()=>{
  const item = BANK[idx];
  showExplain(true, `‡πÄ‡∏â‡∏•‡∏¢: ‡∏Ç‡πâ‡∏≠ ${String.fromCharCode(65+item.correct)} ‚úì\n‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•: ${item.explain}`);
};

nextBtn.onclick = ()=>{
  idx++; hintSpent=0;
  if(idx>=TOTAL){ endGame(); } else { renderQuestion(); }
};

function endGame(){
  $("#game").style.display="none";
  const avgTime = (elapsedSum / TOTAL)||0;
  $("#finalScore").textContent = score;
  document.getElementById('summary').style.display="block";
  loadBoard();
  renderAllAnswers();
  if(ctx){ sfx("ok"); setTimeout(()=>sfx("ok"),220); }
  confetti.burst(window.innerWidth*0.5, window.innerHeight*0.35, 180);
}

function renderAllAnswers(){
  const wrap = document.getElementById('allAnswers');
  wrap.innerHTML = "";
  userAnswers.forEach((a,i)=>{
    const your = a.your===-1 ? "‡∏´‡∏°‡∏î‡πÄ‡∏ß‡∏•‡∏≤" : `${String.fromCharCode(65+a.your)}`;
    const corr = `${String.fromCharCode(65+a.correct)}`;
    const div = document.createElement('div');
    div.className = "ans-card";
    div.innerHTML = `
      <div><b>‡∏Ç‡πâ‡∏≠ ${i+1}:</b> ${a.q}</div>
      <div style="margin-top:6px">‡∏Ñ‡∏∏‡∏ì‡∏ï‡∏≠‡∏ö: <b>${your}</b> | ‡πÄ‡∏â‡∏•‡∏¢: <b>${corr}</b> | ‡πÄ‡∏ß‡∏•‡∏≤: ${a.time.toFixed(1)}s | ‡πÅ‡∏ï‡πâ‡∏°: ${a.gained}</div>
      <div class="muted" style="margin-top:6px">‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•: ${a.explain}</div>
    `;
    wrap.appendChild(div);
  });
}

/* ========= Leaderboard (local) ========= */
function loadBoard(){
  const tbody = document.querySelector('#lbTable tbody');
  const rows = JSON.parse(localStorage.getItem('spu_ai_maint_lb')||'[]');
  tbody.innerHTML="";
  rows.slice(0,10).forEach((r,i)=>{
    const tr = document.createElement('tr');
    tr.innerHTML = `<td>${i+1}</td><td>${r.name}</td><td>${r.score}</td><td>${r.bestStreak}</td><td>${r.avgTime.toFixed(1)} s</td>`;
    tbody.appendChild(tr);
  });
}
function saveBoardEntry(name, score, bestStreak, avgTime){
  const rows = JSON.parse(localStorage.getItem('spu_ai_maint_lb')||'[]');
  rows.push({name, score, bestStreak, avgTime});
  rows.sort((a,b)=>b.score-a.score);
  localStorage.setItem('spu_ai_maint_lb', JSON.stringify(rows.slice(0,20)));
  loadBoard();
}
document.getElementById('saveScore').onclick = ()=>{
  const name = (document.getElementById('nameInput').value || "‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô").slice(0,18);
  const avg = (elapsedSum / TOTAL)||0;
  saveBoardEntry(name, score, bestStreak, avg);
};
document.getElementById('playAgain').onclick = ()=>{
  document.getElementById('btnStart').click();
};

/* Keyboard A-D */
document.addEventListener('keydown', e=>{
  const k = e.key.toLowerCase();
  if(k==='a'||k==='b'||k==='c'||k==='d'){
    const i = {a:0,b:1,c:2,d:3}[k];
    const btn = document.querySelectorAll('.choice')[i];
    if(btn) btn.click();
  }
});
</script>
</body>
</html>
